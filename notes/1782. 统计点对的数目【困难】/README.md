# [1782. ç»Ÿè®¡ç‚¹å¯¹çš„æ•°ç›®ã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/1782.%20%E7%BB%9F%E8%AE%A1%E7%82%B9%E5%AF%B9%E7%9A%84%E6%95%B0%E7%9B%AE%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/count-pairs-of-nodes/)

ç»™ä½ ä¸€ä¸ªæ— å‘å›¾ï¼Œæ— å‘å›¾ç”±æ•´æ•° `n` ï¼Œè¡¨ç¤ºå›¾ä¸­èŠ‚ç‚¹çš„æ•°ç›®ï¼Œå’Œ `edges` ç»„æˆï¼Œå…¶ä¸­ `edges[i] = [ui, vi]` è¡¨ç¤º `ui` å’Œ `vi` ä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªä»£è¡¨æŸ¥è¯¢çš„æ•´æ•°æ•°ç»„ `queries` ã€‚

ç¬¬ `j` ä¸ªæŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„ç‚¹å¯¹ `(a, b)` çš„æ•°ç›®ï¼š

- `a < b`
- `cnt` æ˜¯ä¸ `a` æˆ–è€… `b` ç›¸è¿çš„è¾¹çš„æ•°ç›®ï¼Œä¸” `cnt` ä¸¥æ ¼å¤§äº `queries[j]` ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ `answers` ï¼Œå…¶ä¸­ `answers.length == queries.length` ä¸” `answers[j]` æ˜¯ç¬¬ `j` ä¸ªæŸ¥è¯¢çš„ç­”æ¡ˆã€‚

è¯·æ³¨æ„ï¼Œå›¾ä¸­å¯èƒ½ä¼šæœ‰ å¤šé‡è¾¹ ã€‚

---

- ç¤ºä¾‹ 1ï¼š

![å›¾ 0](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-25-12-18-19.png)

```txt
è¾“å…¥ï¼šn = 4, edges = [[1,2],[2,4],[1,3],[2,3],[2,1]], queries = [2,3]
è¾“å‡ºï¼š[6,5]
è§£é‡Šï¼šæ¯ä¸ªç‚¹å¯¹ä¸­ï¼Œä¸è‡³å°‘ä¸€ä¸ªç‚¹ç›¸è¿çš„è¾¹çš„æ•°ç›®å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
answers[0] = 6ã€‚æ‰€æœ‰çš„ç‚¹å¯¹(a, b)ä¸­è¾¹æ•°å’Œéƒ½å¤§äº2ï¼Œæ•…æœ‰6ä¸ªï¼›
answers[1] = 5ã€‚æ‰€æœ‰çš„ç‚¹å¯¹(a, b)ä¸­é™¤äº†(3,4)è¾¹æ•°ç­‰äº3ï¼Œå…¶å®ƒç‚¹å¯¹è¾¹æ•°å’Œéƒ½å¤§äº3ï¼Œæ•…æœ‰5ä¸ªã€‚
```

- ç¤ºä¾‹ 2ï¼š

```txt
è¾“å…¥ï¼šn = 5, edges = [[1,5],[1,5],[3,4],[2,5],[1,3],[5,1],[2,3],[2,5]], queries = [1,2,3,4,5]
è¾“å‡ºï¼š[10,10,9,8,6]
```

---

æç¤ºï¼š

- `2 <= n <= 2 * 10^4`
- `1 <= edges.length <= 10^5`
- `1 <= ui, vi <= n`
- `ui != vi`
- `1 <= queries.length <= 20`
- `0 <= queries[j] < edges.length`

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
