# [1411. 给 N x 3 网格图涂色的方案数【困难】](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/1411.%20%E7%BB%99%20N%20x%203%20%E7%BD%91%E6%A0%BC%E5%9B%BE%E6%B6%82%E8%89%B2%E7%9A%84%E6%96%B9%E6%A1%88%E6%95%B0%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. 📝 题目描述](#1--题目描述)
- [2. 🎯 s.1 - 解法 1](#2--s1---解法-1)
- [3. 🎯 s.2 - 解法 2](#3--s2---解法-2)
- [4. 🎯 s.3 - 解法 3](#4--s3---解法-3)

<!-- endregion:toc -->

## 1. 📝 题目描述

- [leetcode](https://leetcode.cn/problems/number-of-ways-to-paint-n-3-grid/)

你有一个 `n x 3` 的网格图 `grid` ，你需要用 红，黄，绿 三种颜色之一给每一个格子上色，且确保相邻格子颜色不同（也就是有相同水平边或者垂直边的格子颜色不同）。

给你网格图的行数 `n`。

请你返回给 `grid` 涂色的方案数。由于答案可能会非常大，请你返回答案对 `10^9 + 7` 取余的结果。

---

- 示例 1：

```txt
输入：n = 1
输出：12
```

- 解释：总共有 12 种可行的方法：
- ![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-21-23-46-17.png)

---

- 示例 2：

```txt
输入：n = 2
输出：54
```

- 示例 3：

```txt
输入：n = 3
输出：246
```

- 示例 4：

```txt
输入：n = 7
输出：106494
```

- 示例 5：

```txt
输入：n = 5000
输出：30228214
```

---

提示：

- `n == grid.length`
- `grid[i].length == 3`
- `1 <= n <= 5000`

## 2. 🎯 s.1 - 解法 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$
