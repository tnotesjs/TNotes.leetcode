# [1321. é¤é¦†è¥ä¸šé¢å˜åŒ–å¢é•¿ã€ä¸­ç­‰ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/1321.%20%E9%A4%90%E9%A6%86%E8%90%A5%E4%B8%9A%E9%A2%9D%E5%8F%98%E5%8C%96%E5%A2%9E%E9%95%BF%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/restaurant-growth/)

è¡¨: `Customer`

```txt
+---------------+---------+
| Column Name   | Type    |
+---------------+---------+
| customer_id   | int     |
| name          | varchar |
| visited_on    | date    |
| amount        | int     |
+---------------+---------+
åœ¨ SQL ä¸­ï¼Œ(customer_id, visited_on) æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚
è¯¥è¡¨åŒ…å«ä¸€å®¶é¤é¦†çš„é¡¾å®¢äº¤æ˜“æ•°æ®ã€‚
visited_on è¡¨ç¤º (customer_id) çš„é¡¾å®¢åœ¨ visited_on é‚£å¤©è®¿é—®äº†é¤é¦†ã€‚
amount æ˜¯ä¸€ä¸ªé¡¾å®¢æŸä¸€å¤©çš„æ¶ˆè´¹æ€»é¢ã€‚
```

ä½ æ˜¯é¤é¦†çš„è€æ¿ï¼Œç°åœ¨ä½ æƒ³åˆ†æä¸€ä¸‹å¯èƒ½çš„è¥ä¸šé¢å˜åŒ–å¢é•¿ï¼ˆæ¯å¤©è‡³å°‘æœ‰ä¸€ä½é¡¾å®¢ï¼‰ã€‚

è®¡ç®—ä»¥ 7 å¤©ï¼ˆæŸæ—¥æœŸ + è¯¥æ—¥æœŸå‰çš„ 6 å¤©ï¼‰ä¸ºä¸€ä¸ªæ—¶é—´æ®µçš„é¡¾å®¢æ¶ˆè´¹å¹³å‡å€¼ã€‚`average_amount` è¦ ä¿ç•™ä¸¤ä½å°æ•°ã€‚

ç»“æœæŒ‰ `visited_on` å‡åºæ’åºã€‚

è¿”å›ç»“æœæ ¼å¼çš„ä¾‹å­å¦‚ä¸‹ã€‚

---

- ç¤ºä¾‹ 1ï¼š

```txt
è¾“å…¥ï¼š
Customer è¡¨:
+-------------+--------------+--------------+-------------+
| customer_id | name         | visited_on   | amount      |
+-------------+--------------+--------------+-------------+
| 1           | Jhon         | 2019-01-01   | 100         |
| 2           | Daniel       | 2019-01-02   | 110         |
| 3           | Jade         | 2019-01-03   | 120         |
| 4           | Khaled       | 2019-01-04   | 130         |
| 5           | Winston      | 2019-01-05   | 110         |
| 6           | Elvis        | 2019-01-06   | 140         |
| 7           | Anna         | 2019-01-07   | 150         |
| 8           | Maria        | 2019-01-08   | 80          |
| 9           | Jaze         | 2019-01-09   | 110         |
| 1           | Jhon         | 2019-01-10   | 130         |
| 3           | Jade         | 2019-01-10   | 150         |
+-------------+--------------+--------------+-------------+
è¾“å‡ºï¼š
+--------------+--------------+----------------+
| visited_on   | amount       | average_amount |
+--------------+--------------+----------------+
| 2019-01-07   | 860          | 122.86         |
| 2019-01-08   | 840          | 120            |
| 2019-01-09   | 840          | 120            |
| 2019-01-10   | 1000         | 142.86         |
+--------------+--------------+----------------+
è§£é‡Šï¼š
ç¬¬ä¸€ä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-01 åˆ° 2019-01-07 æ˜¯restaurant-growth/restaurant-growth/ (100 + 110 + 120 + 130 + 110 + 140 + 150)/7 = 122.86
ç¬¬äºŒä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-02 åˆ° 2019-01-08 æ˜¯ (110 + 120 + 130 + 110 + 140 + 150 + 80)/7 = 120
ç¬¬ä¸‰ä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-03 åˆ° 2019-01-09 æ˜¯ (120 + 130 + 110 + 140 + 150 + 80 + 110)/7 = 120
ç¬¬å››ä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-04 åˆ° 2019-01-10 æ˜¯ (130 + 110 + 140 + 150 + 80 + 110 + 130 + 150)/7 = 142.86
```

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
