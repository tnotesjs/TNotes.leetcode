# [0027. ç§»é™¤å…ƒç´ ã€ç®€å•ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/0027.%20%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0%E3%80%90%E7%AE%80%E5%8D%95%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - åŒæŒ‡é’ˆ-1](#2--s1---åŒæŒ‡é’ˆ-1)
- [3. ğŸ¯ s.2 - åŒæŒ‡é’ˆ-2](#3--s2---åŒæŒ‡é’ˆ-2)
- [4. ğŸ¯ s.3 - è°ƒç”¨ç³»ç»Ÿå‡½æ•°](#4--s3---è°ƒç”¨ç³»ç»Ÿå‡½æ•°)
- [5. ğŸ”— References](#5--references)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/remove-element/)

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `nums` å’Œä¸€ä¸ªå€¼ `val`ï¼Œä½ éœ€è¦ **[åŸåœ°](https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95)** ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº `val` çš„å…ƒç´ ã€‚å…ƒç´ çš„é¡ºåºå¯èƒ½å‘ç”Ÿæ”¹å˜ã€‚ç„¶åè¿”å› `nums` ä¸­ä¸ `val` ä¸åŒçš„å…ƒç´ çš„æ•°é‡ã€‚

å‡è®¾ `nums` ä¸­ä¸ç­‰äº `val` çš„å…ƒç´ æ•°é‡ä¸º `k`ï¼Œè¦é€šè¿‡æ­¤é¢˜ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- æ›´æ”¹ `nums` æ•°ç»„ï¼Œä½¿ `nums` çš„å‰ `k` ä¸ªå…ƒç´ åŒ…å«ä¸ç­‰äº `val` çš„å…ƒç´ ã€‚`nums` çš„å…¶ä½™å…ƒç´ å’Œ `nums` çš„å¤§å°å¹¶ä¸é‡è¦ã€‚
- è¿”å› `k`ã€‚

**ç”¨æˆ·è¯„æµ‹ï¼š**

è¯„æµ‹æœºå°†ä½¿ç”¨ä»¥ä¸‹ä»£ç æµ‹è¯•æ‚¨çš„è§£å†³æ–¹æ¡ˆï¼š

```txt
int[] nums = [...]; // è¾“å…¥æ•°ç»„
int val = ...; // è¦ç§»é™¤çš„å€¼
int[] expectedNums = [...]; // é•¿åº¦æ­£ç¡®çš„é¢„æœŸç­”æ¡ˆã€‚
                            // å®ƒä»¥ä¸ç­‰äº val çš„å€¼æ’åºã€‚

int k = removeElement(nums, val); // è°ƒç”¨ä½ çš„å®ç°

assert k == expectedNums.length;
sort(nums, 0, k); // æ’åº nums çš„å‰ k ä¸ªå…ƒç´ 
for (int i = 0; i < actualLength; i++) {
    assert nums[i] == expectedNums[i];
}
```

å¦‚æœæ‰€æœ‰çš„æ–­è¨€éƒ½é€šè¿‡ï¼Œä½ çš„è§£å†³æ–¹æ¡ˆå°†ä¼š **é€šè¿‡**ã€‚

**ç¤ºä¾‹ 1ï¼š**

```txt
è¾“å…¥ï¼šnums = [3,2,2,3], val = 3
è¾“å‡ºï¼š2, nums = [2,2,_,_]
è§£é‡Šï¼šä½ çš„å‡½æ•°å‡½æ•°åº”è¯¥è¿”å› k = 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚
ä½ åœ¨è¿”å›çš„ k ä¸ªå…ƒç´ ä¹‹å¤–ç•™ä¸‹äº†ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼ˆå› æ­¤å®ƒä»¬å¹¶ä¸è®¡å…¥è¯„æµ‹ï¼‰ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```txt
è¾“å…¥ï¼šnums = [0,1,2,2,3,0,4,2], val = 2
è¾“å‡ºï¼š5, nums = [0,1,4,0,3,_,_,_]
è§£é‡Šï¼šä½ çš„å‡½æ•°åº”è¯¥è¿”å› k = 5ï¼Œå¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0,0,1,3,4ã€‚
æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä»¥ä»»æ„é¡ºåºè¿”å›ã€‚
ä½ åœ¨è¿”å›çš„ k ä¸ªå…ƒç´ ä¹‹å¤–ç•™ä¸‹äº†ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼ˆå› æ­¤å®ƒä»¬å¹¶ä¸è®¡å…¥è¯„æµ‹ï¼‰ã€‚
```

**æç¤ºï¼š**

- `0 <= nums.length <= 100`
- `0 <= nums[i] <= 50`
- `0 <= val <= 100`

## 2. ğŸ¯ s.1 - åŒæŒ‡é’ˆ-1

```mermaid
flowchart TD
    A["å¼€å§‹"] --> B["åˆå§‹åŒ– len = 0"]
    B --> C["éå†æ•°ç»„ nums, ç´¢å¼• i"]
    C --> D{"nums[i] æ˜¯å¦ç­‰äº val?"}
    D -- æ˜¯ --> E["ä» i+1 å¼€å§‹å¯»æ‰¾ä¸ç­‰äº val çš„å…ƒç´ "]
    E --> F{"æ‰¾åˆ° j æ»¡è¶³ nums[j] != val?"}
    F -- æ˜¯ --> G["äº¤æ¢ nums[i] å’Œ nums[j]"]
    G --> H["len++"]
    F -- å¦ --> I["è·³è¿‡å½“å‰å¾ªç¯"]
    D -- å¦ --> H["len++"]
    H --> J{"i < nums.length - 1?"}
    J -- æ˜¯ --> K["i++"]
    K --> C
    J -- å¦ --> L["è¿”å› len"]
    L --> M["ç»“æŸ"]
```

::: code-group

```js
/**
 * @param {number[]} nums
 * @param {number} val
 * @return {number}
 */
var removeElement = function (nums, val) {
  let len = 0
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] === val) {
      // æ‰¾åç»­ä¸ä¸º val çš„æˆå‘˜ä¸ä¹‹äº¤æ¢ä½ç½®
      for (let j = i + 1; j < nums.length; j++) {
        if (nums[j] !== val) {
          nums[i] = nums[j]
          nums[j] = val
          len++
          break
        }
      }
    } else {
      len++
    }
  }
  return len
}
```

:::

::: details

- è§£é¢˜æ€è·¯ - å¤–å±‚å¾ªç¯æ‰¾ val
  - è‹¥å½“å‰é¡¹ä¸ç­‰äº valï¼Œè¯´æ˜è¯¥é¡¹ä¸éœ€è¦ç§»é™¤ï¼Œé‚£ä¹ˆï¼Œæ»¡è¶³æ¡ä»¶çš„æˆå‘˜åŠ  1ï¼Œlen++ï¼›
  - è‹¥å½“å‰é¡¹ç­‰äº valï¼Œé‚£ä¹ˆå¼€å¯å†…å±‚å¾ªç¯ï¼Œä»å½“å‰é¡¹çš„ä¸‹ä¸€é¡¹å¼€å§‹æ‰¾ç¬¬ä¸€ä¸ªä¸ä¸º val çš„æˆå‘˜ï¼Œæ‰¾åˆ°åå°†å®ƒä»¬ä½ç½®äº¤æ¢ï¼ŒåŒæ—¶ï¼Œæ»¡è¶³æ¡ä»¶çš„æˆå‘˜åŠ  1ï¼Œlen++ï¼›
    - å†…å±‚å¾ªç¯åªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ä¸º val çš„æˆå‘˜å³å¯ï¼Œä¹‹åç›´æ¥ break; è·³å‡ºå†…å±‚å¾ªç¯ï¼›
- æ³¨æ„ç‚¹
  - å†…å±‚å¾ªç¯å§‹ç»ˆæ˜¯ä»å¤–å±‚å¾ªç¯çš„å½“å‰é¡¹çš„ä¸‹ä¸€é¡¹å¼€å§‹æŸ¥æ‰¾ï¼Œä¸€æ—¦æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æˆå‘˜ï¼Œæ„å‘³ç€æ•°ç»„é•¿åº¦éœ€è¦åŠ  1ã€‚
  - å¹¶éåªæœ‰åœ¨å‘ç”Ÿäº¤æ¢æ—¶ï¼Œæ•°ç»„é•¿åº¦æ‰éœ€è¦åŠ  1ï¼›è‹¥å¤–å±‚å¾ªç¯éå†åˆ°çš„å½“å‰é¡¹æœ¬èº«å°±ä¸ç­‰äº valï¼Œé‚£ä¹ˆä¹Ÿæ„å‘³ç€è¯¥é¡¹æ˜¯ä¸éœ€è¦åˆ é™¤çš„ï¼Œæ­¤æ—¶ï¼Œæ•°ç»„çš„é•¿åº¦ä¹Ÿéœ€è¦åŠ  1ã€‚

:::

## 3. ğŸ¯ s.2 - åŒæŒ‡é’ˆ-2

::: code-group

```js
var removeElement = function (nums, val) {
  if (nums.length === 0) return 0
  let l = 0,
    r = nums.length - 1
  while (l < r) {
    while (nums[l] !== val && l < r) {
      l++
    }
    while (nums[r] === val && l < r) {
      r--
    }
    let temp = nums[l]
    nums[l] = nums[r]
    nums[r] = temp
  }
  return nums[l] === val ? l : l + 1
}
```

:::

::: details

- å†…å±‚ä¸¤ä¸ª while å¾ªç¯çš„é™åˆ¶æ¡ä»¶ `l < r` ä¸èƒ½å°‘ï¼Œé˜²æ­¢ä¸¤æŒ‡é’ˆç›¸æ’ä¹‹åç»§ç»­è¿åŠ¨ï¼Œå¯¼è‡´ç›¸æ’ç‚¹ä¸¤ä¾§çš„æ•°æ®å‡ºç°é—®é¢˜ã€‚
- ç”±äºå¾ªç¯ç»“æŸåˆ†ä¸¤ç§æƒ…å†µï¼Œæ‰€ä»¥æœ€ç»ˆè¿”å›çš„æ–°æ•°ç»„é•¿åº¦ä¹Ÿåˆ†ä¸¤ç§æƒ…å†µï¼š
  - å·¦æŒ‡é’ˆæ’å‘å³æŒ‡é’ˆ - ç›´æ¥è¿”å› l
  - å³æŒ‡é’ˆæ’å‘å·¦æŒ‡é’ˆ - è¿”å› l + 1

:::

::: code-group

```js
/**
 * 22-08-27
 * @param {number[]} nums
 * @param {number} val
 * @return {number}
 */
var removeElement = function (nums, val) {
  let slow = -1,
    fast = 0,
    len = nums.length
  while (fast <= len - 1) {
    if (nums[fast] === val) fast++
    else nums[++slow] = nums[fast++]
  }
  return slow + 1
}
```

:::

## 4. ğŸ¯ s.3 - è°ƒç”¨ç³»ç»Ÿå‡½æ•°

::: code-group

```js
/**
 * @param {number[]} nums
 * @param {number} val
 * @return {number}
 */
var removeElement = function (nums, val) {
  if (!nums.length) return 0
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] === val) {
      nums.splice(i, 1)
      i--
    }
  }
  return nums.length
}
```

:::

::: details

- è°ƒç”¨åŸç”Ÿ apiï¼Œspliceã€‚
- å¾ˆç®€å•ï¼Œéå†æ•°ç»„ï¼Œä¸€æ—¦æ‰¾åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„ï¼Œç›´æ¥å°†å…¶ä»åŸæ•°ç»„ä¸­åˆ é™¤å³å¯ã€‚
- splice è¿™ä¸ª apiï¼Œä¼šæ”¹å˜åŸæ•°ç»„ï¼Œæ‰€ä»¥ï¼Œæœ€ååªè¦å°†ä¿®æ”¹åçš„åŸæ•°ç»„ nums è¿”å›å³å¯ã€‚
- **æ³¨æ„ï¼šè¿™ä¹ˆå†™è™½ç„¶èƒ½é€šè¿‡ï¼Œä½†å¹¶ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚**

:::

## 5. ğŸ”— References

::: details

- https://www.bilibili.com/video/BV1xa411A76q?p=7
  - Bilibili - çˆ±å­¦ä¹ çš„é¥²å…»å‘˜ Leetcode åŠ›æ‰£ 1-300 é¢˜è§†é¢‘è®²è§£åˆé›†ï½œæ‰‹ç”»å›¾è§£ç‰ˆ+ä»£ç ã€æŒç»­æ›´æ–° ingã€‘

:::
