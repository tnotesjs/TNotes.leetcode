# [0653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘ã€ç®€å•ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/0653.%20%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C%20IV%20-%20%E8%BE%93%E5%85%A5%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E3%80%90%E7%AE%80%E5%8D%95%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ¯ s.1 - ä¸­åºéå† + åŒæŒ‡é’ˆ](#3--s1---ä¸­åºéå†--åŒæŒ‡é’ˆ)
- [4. ğŸ¯ s.2 - åŠ¨æ€å“ˆå¸Œè¡¨](#4--s2---åŠ¨æ€å“ˆå¸Œè¡¨)
- [5. ğŸ¯ s.3 - BST è¿­ä»£å™¨ï¼ˆæœ€ä¼˜è§£ï¼‰](#5--s3---bst-è¿­ä»£å™¨æœ€ä¼˜è§£)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/two-sum-iv-input-is-a-bst/)

ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ `root` å’Œä¸€ä¸ªç›®æ ‡ç»“æœ `k`ï¼Œå¦‚æœäºŒå‰æœç´¢æ ‘ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ ä¸”å®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡ç»“æœï¼Œåˆ™è¿”å› `true`ã€‚

---

- **ç¤ºä¾‹ 1ï¼š**

![å›¾ 0](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-15-12-20-24.png)

```txt
è¾“å…¥: root = [5,3,6,2,4,null,7], k = 9
è¾“å‡º: true
```

---

- **ç¤ºä¾‹ 2ï¼š**

![å›¾ 1](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-15-12-20-28.png)

```txt
è¾“å…¥: root = [5,3,6,2,4,null,7], k = 28
è¾“å‡º: false
```

---

æç¤º:

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[1, 10^4]`.
- `-10^4 <= Node.val <= 10^4`
- é¢˜ç›®æ•°æ®ä¿è¯ï¼Œè¾“å…¥çš„ `root` æ˜¯ä¸€æ£µ **æœ‰æ•ˆ** çš„äºŒå‰æœç´¢æ ‘
- `-10^5 <= k <= 10^5`

## 2. ğŸ«§ è¯„ä»·

- æ¨èä½¿ç”¨è§£æ³•ä¸€æˆ–è§£æ³•äºŒï¼Œå®ƒä»¬æ›´å®¹æ˜“ç†è§£å’Œå®ç°ã€‚è§£æ³•ä¸€åˆ©ç”¨äº† BST çš„æœ‰åºæ€§ï¼Œè§£æ³•äºŒæ€è·¯æœ€ç›´è§‚ã€‚è§£æ³•ä¸‰ç©ºé—´æ•ˆç‡æœ€é«˜ä½†å®ç°è¾ƒå¤æ‚ã€‚

## 3. ğŸ¯ s.1 - ä¸­åºéå† + åŒæŒ‡é’ˆ

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œéœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ä¸€æ¬¡ï¼ŒåŒæŒ‡é’ˆæŸ¥æ‰¾æ—¶é—´ä¸º $O(n)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œéœ€è¦é¢å¤–æ•°ç»„å­˜å‚¨ä¸­åºéå†ç»“æœå’Œé€’å½’è°ƒç”¨æ ˆ
- è§£é¢˜æ€è·¯ï¼š
  - åˆ©ç”¨ BST ä¸­åºéå†å¾—åˆ°æœ‰åºæ•°ç»„çš„ç‰¹æ€§ï¼Œç„¶åä½¿ç”¨åŒæŒ‡é’ˆæŸ¥æ‰¾ä¸¤æ•°ä¹‹å’Œã€‚

## 4. ğŸ¯ s.2 - åŠ¨æ€å“ˆå¸Œè¡¨

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå“ˆå¸Œè¡¨æœ€å¤šå­˜å‚¨ n ä¸ªå…ƒç´ ï¼Œé€’å½’è°ƒç”¨æ ˆæ·±åº¦æœ€å¤šä¸ºæ ‘çš„é«˜åº¦
- è§£é¢˜æ€è·¯ï¼š
  - éå†æ ‘çš„åŒæ—¶ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å·²è®¿é—®çš„èŠ‚ç‚¹å€¼ï¼ŒæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ç›®æ ‡è¡¥æ•°ã€‚

## 5. ğŸ¯ s.3 - BST è¿­ä»£å™¨ï¼ˆæœ€ä¼˜è§£ï¼‰

![svg](./assets/1.svg)

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼š$O(h)$ï¼Œå…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦ï¼Œä¸¤ä¸ªæ ˆæœ€å¤šå­˜å‚¨æ ‘çš„é«˜åº¦ä¸ªèŠ‚ç‚¹
- è§£é¢˜æ€è·¯ï¼š
  - ä½¿ç”¨ä¸¤ä¸ª BST è¿­ä»£å™¨ï¼Œä¸€ä¸ªæŒ‰å‡åºéå†ï¼Œä¸€ä¸ªæŒ‰é™åºéå†ï¼Œç±»ä¼¼åŒæŒ‡é’ˆæ–¹æ³•ã€‚
  - æ ¸å¿ƒå˜é‡ï¼š
    - æœ¬æ¬¡æ£€æŸ¥çš„æœ€å°å€¼ï¼š`inorder[inorder.length - 1].val`
    - æœ¬æ¬¡æ£€æŸ¥çš„æœ€å¤§å€¼ï¼š`reverseInorder[reverseInorder.length - 1].val`
  - æ£€æŸ¥ç›®æ ‡å€¼ï¼š
    - å’Œç­‰äºç›®æ ‡å€¼ï¼šè¿”å› true
    - å’Œå°äºç›®æ ‡å€¼ï¼šæ‰©å¤§æœ€å°å€¼
    - å’Œå¤§äºç›®æ ‡å€¼ï¼šç¼©å°æœ€å¤§å€¼
  - ç»´æŠ¤æŒ‡å‘ï¼š
    - æ³¨æ„ï¼šåœ¨æ‰©å¤§æœ€å°å€¼å’Œç¼©å°æœ€å¤§å€¼çš„æ—¶å€™ï¼Œéœ€è¦æ›´æ–°è¿­ä»£å™¨ï¼Œç¡®ä¿æŒ‡å‘æ­£ç¡®ã€‚
    - æœ€å°å€¼æ”¹å˜æŒ‡å‘ -> æŒ‡å‘å¤§äºå½“å‰æœ€å°å€¼çš„ä¸‹ä¸€ä¸ªæœ€å°å€¼
    - æœ€å¤§å€¼æ”¹å˜æŒ‡å‘ -> æŒ‡å‘å°äºå½“å‰æœ€å¤§å€¼çš„ä¸‹ä¸€ä¸ªæœ€å¤§å€¼
    - å¯ä»¥åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§æ¥å®ç° -> åªéœ€è¦ç¡®ä¿ `leftVal` æŒ‡å‘æœ€å·¦è¾¹å„¿çš„èŠ‚ç‚¹ï¼Œ`rightVal` æŒ‡å‘æœ€å³è¾¹å„¿çš„èŠ‚ç‚¹å³å¯ã€‚
