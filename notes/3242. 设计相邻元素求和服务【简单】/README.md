# [3242. è®¾è®¡ç›¸é‚»å…ƒç´ æ±‚å’ŒæœåŠ¡ã€ç®€å•ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3242.%20%E8%AE%BE%E8%AE%A1%E7%9B%B8%E9%82%BB%E5%85%83%E7%B4%A0%E6%B1%82%E5%92%8C%E6%9C%8D%E5%8A%A1%E3%80%90%E7%AE%80%E5%8D%95%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - å“ˆå¸Œè¡¨](#2--s1---å“ˆå¸Œè¡¨)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/design-neighbor-sum-service/)

ç»™ä½ ä¸€ä¸ª `n x n` çš„äºŒç»´æ•°ç»„ `grid`ï¼Œå®ƒåŒ…å«èŒƒå›´ `[0, n^2 - 1]` å†…çš„ä¸é‡å¤å…ƒç´ ã€‚

å®ç° `neighborSum` ç±»ï¼š

- `neighborSum(int [][]grid)` åˆå§‹åŒ–å¯¹è±¡ã€‚
- `int adjacentSum(int value)` è¿”å›åœ¨ `grid` ä¸­ä¸ `value` ç›¸é‚»çš„å…ƒç´ ä¹‹å’Œï¼Œç›¸é‚»æŒ‡çš„æ˜¯ä¸ `value` åœ¨ä¸Šã€å·¦ã€å³æˆ–ä¸‹çš„å…ƒç´ ã€‚
- `int diagonalSum(int value)` è¿”å›åœ¨ `grid` ä¸­ä¸ `value` å¯¹è§’çº¿ç›¸é‚»çš„å…ƒç´ ä¹‹å’Œï¼Œå¯¹è§’çº¿ç›¸é‚»æŒ‡çš„æ˜¯ä¸ `value` åœ¨å·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹æˆ–å³ä¸‹çš„å…ƒç´ ã€‚

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-33-16.png)

---

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š

["neighborSum", "adjacentSum", "adjacentSum", "diagonalSum", "diagonalSum"]

[[[[0, 1, 2], [3, 4, 5], [6, 7, 8]]], [1], [4], [4], [8]]

è¾“å‡ºï¼š [null, 6, 16, 16, 4]

è§£é‡Šï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-33-22.png)

- 1 çš„ç›¸é‚»å…ƒç´ æ˜¯ 0ã€2 å’Œ 4ã€‚
- 4 çš„ç›¸é‚»å…ƒç´ æ˜¯ 1ã€3ã€5 å’Œ 7ã€‚
- 4 çš„å¯¹è§’çº¿ç›¸é‚»å…ƒç´ æ˜¯ 0ã€2ã€6 å’Œ 8ã€‚
- 8 çš„å¯¹è§’çº¿ç›¸é‚»å…ƒç´ æ˜¯ 4ã€‚

---

ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š

["neighborSum", "adjacentSum", "diagonalSum"]

[[[[1, 2, 0, 3], [4, 7, 15, 6], [8, 9, 10, 11], [12, 13, 14, 5]]], [15], [9]]

è¾“å‡ºï¼š [null, 23, 45]

è§£é‡Šï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-33-41.png)

- 15 çš„ç›¸é‚»å…ƒç´ æ˜¯ 0ã€10ã€7 å’Œ 6ã€‚
- 9 çš„å¯¹è§’çº¿ç›¸é‚»å…ƒç´ æ˜¯ 4ã€12ã€14 å’Œ 15ã€‚

---

æç¤ºï¼š

- `3 <= n == grid.length == grid[0].length <= 10`
- `0 <= grid[i][j] <= n^2 - 1`
- æ‰€æœ‰ `grid[i][j]` å€¼å‡ä¸é‡å¤ã€‚
- `adjacentSum` å’Œ `diagonalSum` ä¸­çš„ `value` å‡åœ¨èŒƒå›´ `[0, n^2 - 1]` å†…ã€‚
- æœ€å¤šä¼šè°ƒç”¨ `adjacentSum` å’Œ `diagonalSum` æ€»å…± `2 * n^2` æ¬¡ã€‚

## 2. ğŸ¯ s.1 - å“ˆå¸Œè¡¨

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼šåˆå§‹åŒ– $O(n^2)$ï¼ŒæŸ¥è¯¢ $O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªå€¼çš„ä½ç½®

è§£é¢˜æ€è·¯ï¼š

- åˆå§‹åŒ–æ—¶ç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªå€¼åœ¨çŸ©é˜µä¸­çš„ä½ç½® (row, col)
- `adjacentSum`ï¼šæ ¹æ®ä½ç½®æŸ¥æ‰¾ä¸Šä¸‹å·¦å³å››ä¸ªç›¸é‚»å…ƒç´ å¹¶æ±‚å’Œ
- `diagonalSum`ï¼šæ ¹æ®ä½ç½®æŸ¥æ‰¾å››ä¸ªå¯¹è§’çº¿æ–¹å‘çš„å…ƒç´ å¹¶æ±‚å’Œ
- æ³¨æ„è¾¹ç•Œæ£€æŸ¥ï¼Œè¶…å‡ºçŸ©é˜µèŒƒå›´çš„é‚»å±…ä¸è®¡å…¥æ±‚å’Œ
