# [3068. æœ€å¤§èŠ‚ç‚¹ä»·å€¼ä¹‹å’Œã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3068.%20%E6%9C%80%E5%A4%A7%E8%8A%82%E7%82%B9%E4%BB%B7%E5%80%BC%E4%B9%8B%E5%92%8C%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/find-the-maximum-sum-of-node-values/)

ç»™ä½ ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹çš„ æ— å‘ æ ‘ï¼ŒèŠ‚ç‚¹ä» `0` åˆ° `n - 1` ç¼–å·ã€‚æ ‘ä»¥é•¿åº¦ä¸º `n - 1` ä¸‹æ ‡ä» 0 å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges` çš„å½¢å¼ç»™ä½ ï¼Œå…¶ä¸­ `edges[i] = [ui, vi]` è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ `ui` å’Œ `vi` ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ª æ­£ æ•´æ•° `k` å’Œä¸€ä¸ªé•¿åº¦ä¸º `n` ä¸‹æ ‡ä» 0 å¼€å§‹çš„ éè´Ÿ æ•´æ•°æ•°ç»„ `nums` ï¼Œå…¶ä¸­ `nums[i]` è¡¨ç¤ºèŠ‚ç‚¹ `i` çš„ ä»·å€¼ã€‚

Alice æƒ³ æœ€å¤§åŒ– æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹ä»·å€¼ä¹‹å’Œã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼ŒAlice å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œ ä»»æ„ æ¬¡ï¼ˆåŒ…æ‹¬ 0 æ¬¡ï¼‰ï¼š

- é€‰æ‹©è¿æ¥èŠ‚ç‚¹ `u` å’Œ `v` çš„è¾¹ `[u, v]` ï¼Œå¹¶å°†å®ƒä»¬çš„å€¼æ›´æ–°ä¸ºï¼š
  - `nums[u] = nums[u] XOR k`
  - `nums[v] = nums[v] XOR k`

è¯·ä½ è¿”å› Alice é€šè¿‡æ‰§è¡Œä»¥ä¸Šæ“ä½œ ä»»æ„æ¬¡ åï¼Œå¯ä»¥å¾—åˆ°æ‰€æœ‰èŠ‚ç‚¹ ä»·å€¼ä¹‹å’Œ çš„ æœ€å¤§å€¼ã€‚

---

- ç¤ºä¾‹ 1ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-28-21-54-21.png)

```txt
è¾“å…¥ï¼šnums = [1,2,1], k = 3, edges = [[0,1],[0,2]]
è¾“å‡ºï¼š6

è§£é‡Šï¼š
Alice å¯ä»¥é€šè¿‡ä¸€æ¬¡æ“ä½œå¾—åˆ°æœ€å¤§ä»·å€¼å’Œ 6 ï¼š
- é€‰æ‹©è¾¹ [0,2]ã€‚nums[0] å’Œ nums[2] éƒ½å˜ä¸ºï¼š1 XOR 3 = 2 ï¼Œæ•°ç»„ nums å˜ä¸ºï¼š[1,2,1] -> [2,2,2]ã€‚
æ‰€æœ‰èŠ‚ç‚¹ä»·å€¼ä¹‹å’Œä¸º 2 + 2 + 2 = 6ã€‚
6 æ˜¯å¯ä»¥å¾—åˆ°æœ€å¤§çš„ä»·å€¼ä¹‹å’Œã€‚
```

- ç¤ºä¾‹ 2ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-28-21-54-50.png)

```txt
è¾“å…¥ï¼šnums = [2,3], k = 7, edges = [[0,1]]
è¾“å‡ºï¼š9

è§£é‡Šï¼š
Alice å¯ä»¥é€šè¿‡ä¸€æ¬¡æ“ä½œå¾—åˆ°æœ€å¤§å’Œ 9 ï¼š
- é€‰æ‹©è¾¹ [0,1]ã€‚nums[0] å˜ä¸ºï¼š2 XOR 7 = 5 ï¼Œnums[1] å˜ä¸ºï¼š3 XOR 7 = 4 ï¼Œæ•°ç»„ nums å˜ä¸ºï¼š[2,3] -> [5,4]ã€‚
æ‰€æœ‰èŠ‚ç‚¹ä»·å€¼ä¹‹å’Œä¸º 5 + 4 = 9ã€‚
9 æ˜¯å¯ä»¥å¾—åˆ°æœ€å¤§çš„ä»·å€¼ä¹‹å’Œã€‚
```

- ç¤ºä¾‹ 3ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-28-21-54-57.png)

```txt
è¾“å…¥ï¼šnums = [7,7,7,7,7,7], k = 3, edges = [[0,1],[0,2],[0,3],[0,4],[0,5]]
è¾“å‡ºï¼š42

è§£é‡Šï¼š
Alice ä¸éœ€è¦æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå°±å¯ä»¥å¾—åˆ°æœ€å¤§ä»·å€¼ä¹‹å’Œ 42ã€‚
```

---

æç¤ºï¼š

- `2 <= n == nums.length <= 2 * 10^4`
- `1 <= k <= 10^9`
- `0 <= nums[i] <= 10^9`
- `edges.length == n - 1`
- `edges[i].length == 2`
- `0 <= edges[i][0], edges[i][1] <= n - 1`
- è¾“å…¥ä¿è¯ `edges` æ„æˆä¸€æ£µåˆæ³•çš„æ ‘ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
