# [0704. äºŒåˆ†æŸ¥æ‰¾ã€ç®€å•ã€‘](https://github.com/Tdahuyou/TNotes.leetcode/tree/main/notes/0704.%20%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E3%80%90%E7%AE%80%E5%8D%95%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ Description](#1--description)
- [2. ğŸ¯ Solutions.1 - æš´åŠ›è§£æ³•](#2--solutions1---æš´åŠ›è§£æ³•)
- [3. ğŸ¯ Solutions.2 - äºŒåˆ†æŸ¥æ‰¾](#3--solutions2---äºŒåˆ†æŸ¥æ‰¾)
- [4. ğŸ¯ Solutions.3 - æš´åŠ›è§£æ³• - ä½¿ç”¨åŸç”Ÿ API - indexOf](#4--solutions3---æš´åŠ›è§£æ³•---ä½¿ç”¨åŸç”Ÿ-api---indexof)

<!-- endregion:toc -->

## 1. ğŸ“ Description

::: details [leetcode](https://leetcode.cn/problems/binary-search)

ç»™å®šä¸€ä¸ª Â `n`Â  ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ Â `nums` å’Œä¸€ä¸ªç›®æ ‡å€¼ Â `target` Â ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ Â `nums`Â  ä¸­çš„ `target`ï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› `-1`ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9
è¾“å‡º: 4
è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4
```

**ç¤ºä¾‹ Â 2:**

```
è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2
è¾“å‡º: -1
è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1
```

**æç¤ºï¼š**

1. ä½ å¯ä»¥å‡è®¾ `nums`Â  ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚
2. `n`Â  å°†åœ¨ Â `[1, 10000]`ä¹‹é—´ã€‚
3. `nums`Â  çš„æ¯ä¸ªå…ƒç´ éƒ½å°†åœ¨ Â `[-9999, 9999]`ä¹‹é—´ã€‚

:::

## 2. ğŸ¯ Solutions.1 - æš´åŠ›è§£æ³•

```js
var search = function (nums, target) {
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] === target) return i // æ‰¾åˆ°äº†èº«é«˜ç›¸åŒçš„åŒå­¦ï¼Œè¿”å›è¯¥åŒå­¦çš„ä½ç½®ã€‚
    if (nums[i] > target) return -1 // å½“å‰åŒå­¦çš„èº«é«˜é«˜äºç›®æ ‡åŒå­¦ï¼Œåç»­åŒå­¦éƒ½æ¯”å½“å‰åŒå­¦é«˜ï¼Œä¸å¯èƒ½å­˜åœ¨å’Œç›®æ ‡åŒå­¦ç›¸åŒèº«é«˜çš„äº†ã€‚
  }
  return -1 // ç›®æ ‡åŒå­¦æ˜¯æœ€é«˜çš„ã€‚
}
```

- å®ç°æ€è·¯ï¼š
  - ![](https://pic.leetcode-cn.com/1641040650-CRsyOX-image-20220101101423645.png)
  - nums å°±å¥½æ¯”æ˜¯ä»çŸ®åˆ°é«˜çš„ä¸€é˜ŸåŒå­¦ï¼Œtarget å°±æ˜¯è¦æ’å…¥åˆ°è¿™é˜ŸåŒå­¦ä¸­çš„ä¸€ä¸ªæ–°åŒå­¦ã€‚ä½†æ˜¯ï¼Œæ’å…¥è§„åˆ™æ˜¯ï¼Œtarget åªèƒ½æ’å…¥åˆ°èº«é«˜å’Œä»–ç›¸åŒçš„é‚£ä½åŒå­¦æ‰€åœ¨çš„ä½ç½®ã€Œè¿”å›è¯¥åŒå­¦æ‰€åœ¨ç´¢å¼•ã€ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¯¥åŒå­¦ï¼Œé‚£ä¹ˆä»–æ— æ³•æ’å…¥ã€Œè¿”å› -1ã€ã€‚

## 3. ğŸ¯ Solutions.2 - äºŒåˆ†æŸ¥æ‰¾

```js
var search = function (nums, target) {
  let l = 0,
    r = nums.length - 1,
    mid = ((r - l) >> 1) + l
  while (l <= r) {
    if (nums[mid] === target)
      return mid // æ‰¾åˆ°äº†å’Œ target ç›¸åŒçš„æˆå‘˜ï¼Œè¿”å›æ”¹æˆå‘˜çš„ç´¢å¼•ã€‚
    else if (nums[mid] < target)
      l = mid + 1 // åˆ‡ç‰‡ - èˆå¼ƒæ‰å·¦è¾¹çš„æ‰€æœ‰æˆå‘˜ï¼Œè¿™äº›æˆå‘˜å‡å°äº targetã€‚
    else r = mid - 1 // åˆ‡ç‰‡ - èˆå¼ƒæ‰å³è¾¹çš„æ‰€æœ‰æˆå‘˜ï¼Œè¿™äº›æˆå‘˜å‡å¤§äº targetã€‚

    mid = ((r - l) >> 1) + l // é‡æ–°è®¡ç®—å‰©ä½™æˆå‘˜çš„ä¸­å¿ƒä½ç½®ã€‚
  }
  return -1
}
```

- å®ç°æ€è·¯ï¼š
  - ![](https://pic.leetcode-cn.com/1641040650-Mzlvzj-image-20220101094933992.png)
  - åˆå§‹æƒ…å†µä¸‹ï¼Œleft æŒ‡å‘å¤´ï¼Œright æŒ‡å‘å°¾ã€‚é€šè¿‡ left å’Œ right è®¡ç®—å‡ºä¸­é—´æŒ‡é’ˆ mid çš„ä½ç½®ï¼Œç”±äºæ•°ç»„å·²ç»æ˜¯æœ‰åºçš„äº†ï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯æ—¶ï¼Œé€šè¿‡æ¯”è¾ƒ nums[mid] å’Œ target ä¹‹é—´çš„å¤§å°ï¼Œå³å¯**ä¸æ–­ç¼©å°ç›®æ ‡å€¼ target å¯èƒ½å­˜åœ¨çš„åŒºé—´**ã€‚
- ğŸ¤” æ€è€ƒï¼šç»§ç»­å¾ªç¯çš„æ¡ä»¶ï¼Œæ˜¯å¦å¯ä»¥æ”¹ä¸º `l < r`ï¼Ÿ
  - ä¸å¯
  - è®¾æƒ³ä¸€ç§æç«¯æƒ…å†µï¼Œ`nums.length === 1`ï¼Œå¹¶ä¸” `nums[0] === target`ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥è¿”å›çš„æ˜¯ 0ï¼Œä½†å®é™…è¿”å›çš„æ˜¯ -1ã€‚
- ğŸ¤” æ€è€ƒï¼šæ¯æ¬¡ç¼©å‡åŒºé—´æ—¶ï¼Œéƒ½è¦å°† `l = mid + 1` æˆ– `r = mid - 1`ï¼Œæ˜¯å¦å¯ä»¥æ”¹ä¸º `l = mid` æˆ– `r = mid`ï¼Ÿ
  - ä¸å¯
  - æŒ‰ç…§ä»¥ä¸Šç¨‹åºçš„é€»è¾‘ï¼Œå½“ l å’Œ r ä¹‹é—´çš„å·®å€¼å°äº 2 æ—¶ï¼Œé‚£ä¹ˆ mid å°†å§‹ç»ˆæŒ‡å‘ lã€‚

```js
è¾“å…¥ï¼šnums = [1, 2], target = 2
è¾“å‡ºï¼š1
å®é™…ï¼šæ­»å¾ªç¯
```

## 4. ğŸ¯ Solutions.3 - æš´åŠ›è§£æ³• - ä½¿ç”¨åŸç”Ÿ API - indexOf

```js
var search = function (nums, target) {
  return nums.indexOf(target)
}
```

- æ­ªé—¨é‚ªé“
  - é¢˜ç›®æè¿°çš„å…¶å®å°±æ˜¯ JavaScript æ•°ç»„åŸç”Ÿ api indexOf çš„åŠŸèƒ½ã€‚å¦‚æœä»…ä»…æ˜¯ä¸ºäº†è§£å†³é—®é¢˜çš„è¯ï¼Œä½¿ç”¨ JavaScript å®Œå…¨å¯ä»¥ä½¿ç”¨ indexOf è¿™ä¸ªåŸç”Ÿçš„æ•°ç»„ api æ¥è§£å†³ã€‚å¹¶ä¸”åœ¨å®é™…å¼€å‘ä¸­ï¼Œè‹¥çœŸé‡åˆ°æ­¤éœ€æ±‚ï¼Œåº”è¯¥ä¹Ÿä¼šé¦–å…ˆæƒ³åˆ°ä½¿ç”¨å®ƒã€‚
- å¦‚ä½•é€‰æ‹©
  - å®é™…å¼€å‘ï¼šindexOf
  - ç»ƒä¹ ç®—æ³•é¢˜ï¼šæ‰‹å†™ indexOf
  - ç»ƒä¹ ç®—æ³•é¢˜ï¼Œä¸»è¦æ˜¯é”»ç‚¼æ€ç»´ï¼Œæ€è€ƒæ€è€ƒ indexOf çš„å®ç°é€»è¾‘ã€‚è§£å†³å®é™…é—®é¢˜çš„æ—¶å€™ï¼Œæ¨èç›´æ¥ä½¿ç”¨ indexOf API æ¥å¤„ç†ï¼Œä¸€æ–¹é¢æ˜¯ç®€å•ï¼Œåªéœ€è¦ä¸€è¡Œå°±æå®šäº†ï¼Œå¦å¤–ä¸€æ–¹é¢æ˜¯åŸç”Ÿ API çš„æ€§èƒ½è¡¨ç°å¾ˆå¯èƒ½ä¼šæ¯”æˆ‘ä»¬æ‰‹å†™çš„é€»è¾‘æ›´å¥½ä¸€äº›ã€‚
  - ä»æœ¬é¢˜çš„æäº¤è®°å½•æ¥çœ‹ï¼ŒindexOf çš„æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—çš„å†…å­˜éƒ½æ˜¯ä¸Šè¿°é¢˜è§£ä¸­æœ€å°çš„ã€‚
