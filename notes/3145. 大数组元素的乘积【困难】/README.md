# [3145. å¤§æ•°ç»„å…ƒç´ çš„ä¹˜ç§¯ã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3145.%20%E5%A4%A7%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E4%B9%98%E7%A7%AF%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/find-products-of-elements-of-big-array/)

ä¸€ä¸ªéè´Ÿæ•´æ•° `x` çš„ å¼ºæ•°ç»„ æŒ‡çš„æ˜¯æ»¡è¶³å…ƒç´ ä¸º 2 çš„å¹‚ä¸”å…ƒç´ æ€»å’Œä¸º `x` çš„æœ€çŸ­æœ‰åºæ•°ç»„ã€‚ä¸‹è¡¨è¯´æ˜äº†å¦‚ä½•ç¡®å®š å¼ºæ•°ç»„ çš„ç¤ºä¾‹ã€‚å¯ä»¥è¯æ˜ï¼Œ`x` å¯¹åº”çš„å¼ºæ•°ç»„æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-08-07-55.png)

æˆ‘ä»¬å°†æ¯ä¸€ä¸ªå‡åºçš„æ­£æ•´æ•° `i` ï¼ˆå³ 1ï¼Œ2ï¼Œ3 ç­‰ç­‰ï¼‰çš„ å¼ºæ•°ç»„ è¿æ¥å¾—åˆ°æ•°ç»„ `big_nums` ï¼Œ`big_nums` å¼€å§‹éƒ¨åˆ†ä¸º `[1, 2, 1, 2, 4, 1, 4, 2, 4, 1, 2, 4, 8, ...]` ã€‚

ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `queries` ï¼Œå…¶ä¸­ `queries[i] = [fromi, toi, modi]` ï¼Œä½ éœ€è¦è®¡ç®— `(big_nums[fromi] * big_nums[fromi + 1] * ... * big_nums[toi]) % modi` ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[i]` æ˜¯ç¬¬ `i` ä¸ªæŸ¥è¯¢çš„ç­”æ¡ˆã€‚

---

- ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š queries = [[1,3,7]]

è¾“å‡ºï¼š [4]

è§£é‡Šï¼š

åªæœ‰ä¸€ä¸ªæŸ¥è¯¢ã€‚

`big_nums[1..3] = [2,1,2]` ã€‚å®ƒä»¬çš„ä¹˜ç§¯ä¸º 4ã€‚ç»“æœä¸º `4 % 7 = 4`ã€‚

---

- ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š queries = [[2,5,3],[7,7,4]]

è¾“å‡ºï¼š [2,2]

è§£é‡Šï¼š

æœ‰ä¸¤ä¸ªæŸ¥è¯¢ã€‚

ç¬¬ä¸€ä¸ªæŸ¥è¯¢ï¼š`big_nums[2..5] = [1,2,4,1]` ã€‚å®ƒä»¬çš„ä¹˜ç§¯ä¸º 8 ã€‚ç»“æœä¸º `8 % 3 = 2`ã€‚

ç¬¬äºŒä¸ªæŸ¥è¯¢ï¼š`big_nums[7] = 2` ã€‚ç»“æœä¸º `2 % 4 = 2`ã€‚

---

æç¤ºï¼š

- `1 <= queries.length <= 500`
- `queries[i].length == 3`
- `0 <= queries[i][0] <= queries[i][1] <= 10^15`
- `1 <= queries[i][2] <= 10^5`

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
