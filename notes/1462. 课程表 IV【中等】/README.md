# [1462. è¯¾ç¨‹è¡¨ IVã€ä¸­ç­‰ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/1462.%20%E8%AF%BE%E7%A8%8B%E8%A1%A8%20IV%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/course-schedule-iv/)

ä½ æ€»å…±éœ€è¦ä¸Š `numCourses` é—¨è¯¾ï¼Œè¯¾ç¨‹ç¼–å·ä¾æ¬¡ä¸º `0` åˆ° `numCourses-1` ã€‚ä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ•°ç»„ `prerequisite` ï¼Œå…¶ä¸­ `prerequisites[i] = [ai, bi]` è¡¨ç¤ºå¦‚æœä½ æƒ³é€‰ `bi` è¯¾ç¨‹ï¼Œä½  å¿…é¡» å…ˆé€‰ `ai` è¯¾ç¨‹ã€‚

- æœ‰çš„è¯¾ä¼šæœ‰ç›´æ¥çš„å…ˆä¿®è¯¾ç¨‹ï¼Œæ¯”å¦‚å¦‚æœæƒ³ä¸Šè¯¾ç¨‹ `1` ï¼Œä½ å¿…é¡»å…ˆä¸Šè¯¾ç¨‹ `0` ï¼Œé‚£ä¹ˆä¼šä»¥ `[0,1]` æ•°å¯¹çš„å½¢å¼ç»™å‡ºå…ˆä¿®è¯¾ç¨‹æ•°å¯¹ã€‚

å…ˆå†³æ¡ä»¶ä¹Ÿå¯ä»¥æ˜¯ é—´æ¥ çš„ã€‚å¦‚æœè¯¾ç¨‹ `a` æ˜¯è¯¾ç¨‹ `b` çš„å…ˆå†³æ¡ä»¶ï¼Œè¯¾ç¨‹ `b` æ˜¯è¯¾ç¨‹ `c` çš„å…ˆå†³æ¡ä»¶ï¼Œé‚£ä¹ˆè¯¾ç¨‹ `a` å°±æ˜¯è¯¾ç¨‹ `c` çš„å…ˆå†³æ¡ä»¶ã€‚

ä½ ä¹Ÿå¾—åˆ°ä¸€ä¸ªæ•°ç»„ `queries` ï¼Œå…¶ä¸­ `queries[j] = [uj, vj]`ã€‚å¯¹äºç¬¬ `j` ä¸ªæŸ¥è¯¢ï¼Œæ‚¨åº”è¯¥å›ç­”è¯¾ç¨‹ `uj` æ˜¯å¦æ˜¯è¯¾ç¨‹ `vj` çš„å…ˆå†³æ¡ä»¶ã€‚

è¿”å›ä¸€ä¸ªå¸ƒå°”æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer[j]` æ˜¯ç¬¬ `j` ä¸ªæŸ¥è¯¢çš„ç­”æ¡ˆã€‚

---

- ç¤ºä¾‹ 1ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-22-00-08-28.png)

```txt
è¾“å…¥ï¼šnumCourses = 2, prerequisites = [[1,0]], queries = [[0,1],[1,0]]
è¾“å‡ºï¼š[false,true]
è§£é‡Šï¼š[1, 0] æ•°å¯¹è¡¨ç¤ºåœ¨ä½ ä¸Šè¯¾ç¨‹ 0 ä¹‹å‰å¿…é¡»å…ˆä¸Šè¯¾ç¨‹ 1ã€‚
è¯¾ç¨‹ 0 ä¸æ˜¯è¯¾ç¨‹ 1 çš„å…ˆä¿®è¯¾ç¨‹ï¼Œä½†è¯¾ç¨‹ 1 æ˜¯è¯¾ç¨‹ 0 çš„å…ˆä¿®è¯¾ç¨‹ã€‚
```

- ç¤ºä¾‹ 2ï¼š

```txt
è¾“å…¥ï¼šnumCourses = 2, prerequisites = [], queries = [[1,0],[0,1]]
è¾“å‡ºï¼š[false,false]
è§£é‡Šï¼šæ²¡æœ‰å…ˆä¿®è¯¾ç¨‹å¯¹ï¼Œæ‰€ä»¥æ¯é—¨è¯¾ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ã€‚
```

- ç¤ºä¾‹ 3ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-22-00-08-37.png)

```txt
è¾“å…¥ï¼šnumCourses = 3, prerequisites = [[1,2],[1,0],[2,0]], queries = [[1,0],[1,2]]
è¾“å‡ºï¼š[true,true]
```

---

æç¤ºï¼š

- `2 <= numCourses <= 100`
- `0 <= prerequisites.length <= (numCourses * (numCourses - 1) / 2)`
- `prerequisites[i].length == 2`
- `0 <= ai, bi <= numCourses - 1`
- `ai != bi`
- æ¯ä¸€å¯¹ `[ai, bi]` éƒ½ ä¸åŒ
- å…ˆä¿®è¯¾ç¨‹å›¾ä¸­æ²¡æœ‰ç¯ã€‚
- `1 <= queries.length <= 10^4`
- `0 <= ui, vi <= numCourses - 1`
- `ui != vi`

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
