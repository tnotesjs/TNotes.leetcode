# [2944. 购买水果需要的最少金币数【中等】](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/2944.%20%E8%B4%AD%E4%B9%B0%E6%B0%B4%E6%9E%9C%E9%9C%80%E8%A6%81%E7%9A%84%E6%9C%80%E5%B0%91%E9%87%91%E5%B8%81%E6%95%B0%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. 📝 题目描述](#1--题目描述)
- [2. 🎯 s.1 - 解法 1](#2--s1---解法-1)
- [3. 🎯 s.2 - 解法 2](#3--s2---解法-2)
- [4. 🎯 s.3 - 解法 3](#4--s3---解法-3)

<!-- endregion:toc -->

## 1. 📝 题目描述

- [leetcode](https://leetcode.cn/problems/minimum-number-of-coins-for-fruits/)

给你一个 **下标从 0 开始的** 整数数组 `prices` ，其中 `prices[i]` 表示你购买第 `i + 1` 个水果需要花费的金币数目。

水果超市有如下促销活动：

- 如果你花费 `prices[i]` 购买了下标为 `i + 1` 的水果，那么你可以免费获得下标范围在 `[i + 1, i + i]` 的水果。

**注意** ，即使你 **可以** 免费获得水果 `j` ，你仍然可以花费 `prices[j - 1]` 个金币去购买它以获得它的奖励。

请你返回获得所有水果所需要的 **最少** 金币数。

---

- **示例 1：**

```txt
输入：prices = [3,1,2]
输出：4

解释：
- 用 `prices[0] = 3` 个金币购买第 1 个水果，你可以免费获得第 2 个水果。
- 用 `prices[1] = 1` 个金币购买第 2 个水果，你可以免费获得第 3 个水果。
- 免费获得第 3 个水果。
请注意，即使您可以免费获得第 2 个水果作为购买第 1 个水果的奖励，但您购买它是为了获得其奖励，这是更优化的。
```

- **示例 2：**

```txt
输入：prices = [1,10,1,1]
输出：2

解释：
- 用 `prices[0] = 1` 个金币购买第 1 个水果，你可以免费获得第 2 个水果。
- 免费获得第 2 个水果。
- 用 `prices[2] = 1` 个金币购买第 3 个水果，你可以免费获得第 4 个水果。
- 免费获得第 4 个水果。
```

- **示例 3：**

```txt
输入：prices = [26,18,6,12,49,7,45,45]
输出：39

解释：
- 用 `prices[0] = 26` 个金币购买第 1 个水果，你可以免费获得第 2 个水果。
- 免费获得第 2 个水果。
- 用 `prices[2] = 6` 个金币购买第 3 个水果，你可以免费获得第 4，5，6（接下来的三个）水果。
- 免费获得第 4 个水果。
- 免费获得第 5 个水果。
- 用 `prices[5] = 7` 个金币购买第 6 个水果，你可以免费获得第 7 和 第 8 个水果。
- 免费获得第 7 个水果。
- 免费获得第 8 个水果。
请注意，即使您可以免费获得第 6 个水果作为购买第 3 个水果的奖励，但您购买它是为了获得其奖励，这是更优化的。
```

---

**提示：**

- `1 <= prices.length <= 1000`
- `1 <= prices[i] <= 10^5`

## 2. 🎯 s.1 - 解法 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$

## 3. 🎯 s.2 - 解法 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$

## 4. 🎯 s.3 - 解法 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$
