# [1587. é“¶è¡Œè´¦æˆ·æ¦‚è¦ IIã€ç®€å•ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/1587.%20%E9%93%B6%E8%A1%8C%E8%B4%A6%E6%88%B7%E6%A6%82%E8%A6%81%20II%E3%80%90%E7%AE%80%E5%8D%95%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/bank-account-summary-ii/)

è¡¨: `Users`

```txt
+--------------+---------+
| Column Name  | Type    |
+--------------+---------+
| account      | int     |
| name         | varchar |
+--------------+---------+
account æ˜¯è¯¥è¡¨çš„ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—)ã€‚
è¯¥è¡¨çš„æ¯ä¸€è¡Œéƒ½åŒ…å«é“¶è¡Œä¸­æ¯ä¸ªç”¨æˆ·çš„å¸å·ã€‚
è¡¨ä¸­ä¸ä¼šæœ‰ä¸¤ä¸ªç”¨æˆ·å…·æœ‰ç›¸åŒçš„åç§°ã€‚
```

è¡¨: `Transactions`

```txt
+---------------+---------+
| Column Name   | Type    |
+---------------+---------+
| trans_id      | int     |
| account       | int     |
| amount        | int     |
| transacted_on | date    |
+---------------+---------+
trans_id æ˜¯è¯¥è¡¨ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—)ã€‚
è¯¥è¡¨çš„æ¯ä¸€è¡ŒåŒ…å«äº†æ‰€æœ‰è´¦æˆ·çš„äº¤æ˜“æ”¹å˜æƒ…å†µã€‚
å¦‚æœç”¨æˆ·æ”¶åˆ°äº†é’±, é‚£ä¹ˆé‡‘é¢æ˜¯æ­£çš„; å¦‚æœç”¨æˆ·è½¬äº†é’±, é‚£ä¹ˆé‡‘é¢æ˜¯è´Ÿçš„ã€‚
æ‰€æœ‰è´¦æˆ·çš„èµ·å§‹ä½™é¢ä¸º 0ã€‚
```

ç¼–å†™è§£å†³æ–¹æ¡ˆ, æŠ¥å‘Šä½™é¢é«˜äº 10000 çš„æ‰€æœ‰ç”¨æˆ·çš„åå­—å’Œä½™é¢. è´¦æˆ·çš„ä½™é¢ç­‰äºåŒ…å«è¯¥è´¦æˆ·çš„æ‰€æœ‰äº¤æ˜“çš„æ€»å’Œã€‚

è¿”å›ç»“æœè¡¨å• æ— é¡ºåºè¦æ±‚ ã€‚

æŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚

---

- ç¤ºä¾‹ 1ï¼š

```txt
è¾“å…¥ï¼š
Users table:
+------------+--------------+
| account    | name         |
+------------+--------------+
| 900001     | Alice        |
| 900002     | Bob          |
| 900003     | Charlie      |
+------------+--------------+

Transactions table:
+------------+------------+------------+---------------+
| trans_id   | account    | amount     | transacted_on |
+------------+------------+------------+---------------+
| 1          | 900001     | 7000       |  2020-08-01   |
| 2          | 900001     | 7000       |  2020-09-01   |
| 3          | 900001     | -3000      |  2020-09-02   |
| 4          | 900002     | 1000       |  2020-09-12   |
| 5          | 900003     | 6000       |  2020-08-07   |
| 6          | 900003     | 6000       |  2020-09-07   |
| 7          | 900003     | -4000      |  2020-09-11   |
+------------+------------+------------+---------------+
è¾“å‡ºï¼š
+------------+------------+
| name       | balance    |
+------------+------------+
| Alice      | 11000      |
+------------+------------+
è§£é‡Šï¼š
Alice çš„ä½™é¢ä¸º(7000 + 7000 - 3000) = 11000.
Bob çš„ä½™é¢ä¸º1000.
Charlie çš„ä½™é¢ä¸º(6000 + 6000 - 4000) = 8000.
```

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
