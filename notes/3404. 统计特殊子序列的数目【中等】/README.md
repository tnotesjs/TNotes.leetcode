# [3404. ç»Ÿè®¡ç‰¹æ®Šå­åºåˆ—çš„æ•°ç›®ã€ä¸­ç­‰ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3404.%20%E7%BB%9F%E8%AE%A1%E7%89%B9%E6%AE%8A%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%95%B0%E7%9B%AE%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/count-special-subsequences/)

ç»™ä½ ä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„æ•°ç»„ `nums`ã€‚

ç‰¹æ®Šå­åºåˆ— æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 4 çš„å­åºåˆ—ï¼Œç”¨ä¸‹æ ‡ `(p, q, r, s)` è¡¨ç¤ºï¼Œå®ƒä»¬æ»¡è¶³ `p < q < r < s` ï¼Œä¸”è¿™ä¸ªå­åºåˆ— å¿…é¡» æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- `nums[p] * nums[r] == nums[q] * nums[s]`
- ç›¸é‚»åæ ‡ä¹‹é—´è‡³å°‘é—´éš” ä¸€ä¸ª æ•°å­—ã€‚æ¢å¥è¯è¯´ï¼Œ`q - p > 1` ï¼Œ`r - q > 1` ä¸” `s - r > 1`ã€‚

å­åºåˆ—æŒ‡çš„æ˜¯ä»åŸæ•°ç»„ä¸­åˆ é™¤é›¶ä¸ªæˆ–è€…æ›´å¤šå…ƒç´ åï¼Œå‰©ä¸‹å…ƒç´ ä¸æ”¹å˜é¡ºåºç»„æˆçš„æ•°å­—åºåˆ—ã€‚

è¯·ä½ è¿”å› `nums` ä¸­ä¸åŒ ç‰¹æ®Šå­åºåˆ— çš„æ•°ç›®ã€‚

---

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š nums = [1,2,3,4,3,6,1]

è¾“å‡ºï¼š 1

è§£é‡Šï¼š

`nums` ä¸­åªæœ‰ä¸€ä¸ªç‰¹æ®Šå­åºåˆ—ã€‚

- `(p, q, r, s) = (0, 2, 4, 6)` ï¼š
  - å¯¹åº”çš„å…ƒç´ ä¸º `(1, 3, 3, 1)`ã€‚
  - `nums[p] * nums[r] = nums[0] * nums[4] = 1 * 3 = 3`
  - `nums[q] * nums[s] = nums[2] * nums[6] = 3 * 1 = 3`

---

ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š nums = [3,4,3,4,3,4,3,4]

è¾“å‡ºï¼š 3

è§£é‡Šï¼š

`nums` ä¸­å…±æœ‰ä¸‰ä¸ªç‰¹æ®Šå­åºåˆ—ã€‚

- `(p, q, r, s) = (0, 2, 4, 6)` ï¼š
  - å¯¹åº”å…ƒç´ ä¸º `(3, 3, 3, 3)`ã€‚
  - `nums[p] * nums[r] = nums[0] * nums[4] = 3 * 3 = 9`
  - `nums[q] * nums[s] = nums[2] * nums[6] = 3 * 3 = 9`
- `(p, q, r, s) = (1, 3, 5, 7)` ï¼š
  - å¯¹åº”å…ƒç´ ä¸º `(4, 4, 4, 4)`ã€‚
  - `nums[p] * nums[r] = nums[1] * nums[5] = 4 * 4 = 16`
  - `nums[q] * nums[s] = nums[3] * nums[7] = 4 * 4 = 16`
- `(p, q, r, s) = (0, 2, 5, 7)` ï¼š
  - å¯¹åº”å…ƒç´ ä¸º `(3, 3, 4, 4)`ã€‚
  - `nums[p] * nums[r] = nums[0] * nums[5] = 3 * 4 = 12`
  - `nums[q] * nums[s] = nums[2] * nums[7] = 3 * 4 = 12`

---

æç¤ºï¼š

- `7 <= nums.length <= 1000`
- `1 <= nums[i] <= 1000`

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
