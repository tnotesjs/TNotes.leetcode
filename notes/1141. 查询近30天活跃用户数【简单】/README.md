# [1141. æŸ¥è¯¢è¿‘ 30 å¤©æ´»è·ƒç”¨æˆ·æ•°ã€ç®€å•ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/1141.%20%E6%9F%A5%E8%AF%A2%E8%BF%9130%E5%A4%A9%E6%B4%BB%E8%B7%83%E7%94%A8%E6%88%B7%E6%95%B0%E3%80%90%E7%AE%80%E5%8D%95%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/user-activity-for-the-past-30-days-i/)

è¡¨ï¼š`Activity`

```txt
+---------------+---------+
| Column Name   | Type    |
+---------------+---------+
| user_id       | int     |
| session_id    | int     |
| activity_date | date    |
| activity_type | enum    |
+---------------+---------+
è¯¥è¡¨æ²¡æœ‰åŒ…å«é‡å¤æ•°æ®ã€‚
activity_type åˆ—æ˜¯ ENUM(category) ç±»å‹ï¼Œ ä» ('open_session'ï¼Œ 'end_session'ï¼Œ 'scroll_down'ï¼Œ 'send_message') å–å€¼ã€‚
è¯¥è¡¨è®°å½•ç¤¾äº¤åª’ä½“ç½‘ç«™çš„ç”¨æˆ·æ´»åŠ¨ã€‚
æ³¨æ„ï¼Œæ¯ä¸ªä¼šè¯åªå±äºä¸€ä¸ªç”¨æˆ·ã€‚
```

ç¼–å†™è§£å†³æ–¹æ¡ˆï¼Œç»Ÿè®¡æˆªè‡³ `2019-07-27`ï¼ˆåŒ…å« 2019-07-27ï¼‰ï¼Œè¿‘ `30` å¤©çš„æ¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼ˆå½“å¤©åªè¦æœ‰ä¸€æ¡æ´»åŠ¨è®°å½•ï¼Œå³ä¸ºæ´»è·ƒç”¨æˆ·ï¼‰ã€‚

ä»¥ **ä»»æ„é¡ºåº** è¿”å›ç»“æœè¡¨ã€‚

ç»“æœç¤ºä¾‹å¦‚ä¸‹ã€‚

---

- ç¤ºä¾‹ 1ï¼š

```txt
è¾“å…¥ï¼š
Activity table:
+---------+------------+---------------+---------------+
| user_id | session_id | activity_date | activity_type |
+---------+------------+---------------+---------------+
| 1       | 1          | 2019-07-20    | open_session  |
| 1       | 1          | 2019-07-20    | scroll_down   |
| 1       | 1          | 2019-07-20    | end_session   |
| 2       | 4          | 2019-07-20    | open_session  |
| 2       | 4          | 2019-07-21    | send_message  |
| 2       | 4          | 2019-07-21    | end_session   |
| 3       | 2          | 2019-07-21    | open_session  |
| 3       | 2          | 2019-07-21    | send_message  |
| 3       | 2          | 2019-07-21    | end_session   |
| 4       | 3          | 2019-06-25    | open_session  |
| 4       | 3          | 2019-06-25    | end_session   |
+---------+------------+---------------+---------------+
è¾“å‡ºï¼š
+------------+--------------+
| day        | active_users |
+------------+--------------+
| 2019-07-20 | 2            |
| 2019-07-21 | 2            |
+------------+--------------+
è§£é‡Šï¼šæ³¨æ„éæ´»è·ƒç”¨æˆ·çš„è®°å½•ä¸éœ€è¦å±•ç¤ºã€‚
```

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
