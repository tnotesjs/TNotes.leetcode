# [2954. ç»Ÿè®¡æ„Ÿå†’åºåˆ—çš„æ•°ç›®ã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/2954.%20%E7%BB%9F%E8%AE%A1%E6%84%9F%E5%86%92%E5%BA%8F%E5%88%97%E7%9A%84%E6%95%B0%E7%9B%AE%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/count-the-number-of-infection-sequences/)

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„ `sick` ï¼Œæ•°ç»„æŒ‰ å‡åº æ’åºã€‚

æœ‰ `n` ä½å°æœ‹å‹ç«™æˆä¸€æ’ï¼ŒæŒ‰é¡ºåºç¼–å·ä¸º `0` åˆ° `n - 1`ã€‚æ•°ç»„ `sick` åŒ…å«ä¸€å¼€å§‹å¾—äº†æ„Ÿå†’çš„å°æœ‹å‹çš„ä½ç½®ã€‚å¦‚æœä½ç½®ä¸º `i` çš„å°æœ‹å‹å¾—äº†æ„Ÿå†’ï¼Œä»–ä¼šä¼ æŸ“ç»™ä¸‹æ ‡ä¸º `i - 1` æˆ–è€… `i + 1` çš„å°æœ‹å‹ï¼Œå‰æ æ˜¯è¢«ä¼ æŸ“çš„å°æœ‹å‹å­˜åœ¨ä¸”è¿˜æ²¡æœ‰å¾—æ„Ÿå†’ã€‚æ¯ä¸€ç§’ä¸­ï¼Œ è‡³å¤šä¸€ä½ è¿˜æ²¡æ„Ÿå†’çš„å°æœ‹å‹ä¼šè¢«ä¼ æŸ“ã€‚

ç»è¿‡æœ‰é™çš„ç§’æ•°åï¼Œé˜Ÿåˆ—ä¸­æ‰€æœ‰å°æœ‹å‹éƒ½ä¼šæ„Ÿå†’ã€‚æ„Ÿå†’åºåˆ— æŒ‡çš„æ˜¯ æ‰€æœ‰ ä¸€å¼€å§‹æ²¡æœ‰æ„Ÿå†’çš„å°æœ‹å‹æœ€åå¾—æ„Ÿå†’çš„é¡ºåºåºåˆ—ã€‚è¯·ä½ è¿”å›æ‰€æœ‰æ„Ÿå†’åºåˆ—çš„æ•°ç›®ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†ç­”æ¡ˆå¯¹ `10^9 + 7` å–ä½™åè¿”å›ã€‚

æ³¨æ„ï¼Œæ„Ÿå†’åºåˆ— ä¸ åŒ…å«ä¸€å¼€å§‹å°±å¾—äº†æ„Ÿå†’çš„å°æœ‹å‹çš„ä¸‹æ ‡ã€‚

---

ç¤ºä¾‹ 1ï¼š

```txt
è¾“å…¥ï¼šn = 5, sick = [0,4]
è¾“å‡ºï¼š4

è§£é‡Šï¼š
ä¸€å¼€å§‹ï¼Œä¸‹æ ‡ä¸º 1 ï¼Œ2 å’Œ 3 çš„å°æœ‹å‹æ²¡æœ‰æ„Ÿå†’ã€‚æ€»å…±æœ‰ 4 ä¸ªå¯èƒ½çš„æ„Ÿå†’åºåˆ—ï¼š
- ä¸€å¼€å§‹ï¼Œä¸‹æ ‡ä¸º 1 å’Œ 3 çš„å°æœ‹å‹å¯ä»¥è¢«ä¼ æŸ“ï¼Œå› ä¸ºä»–ä»¬åˆ†åˆ«æŒ¨ç€æœ‰æ„Ÿå†’çš„å°æœ‹å‹ 0 å’Œ 4 ï¼Œä»¤ä¸‹æ ‡ä¸º 1 çš„å°æœ‹å‹å…ˆè¢«ä¼ æŸ“ã€‚
ç„¶åï¼Œä¸‹æ ‡ä¸º 2 çš„å°æœ‹å‹æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 1 ï¼Œä¸‹æ ‡ä¸º 3 çš„å°æœ‹å‹æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 4 ï¼Œä¸¤ä½å°æœ‹å‹éƒ½å¯ä»¥è¢«ä¼ æŸ“ï¼Œä»¤ä¸‹æ ‡ä¸º 2 çš„å°æœ‹å‹è¢«ä¼ æŸ“ã€‚
æœ€åï¼Œä¸‹æ ‡ä¸º 3 çš„å°æœ‹å‹è¢«ä¼ æŸ“ï¼Œå› ä¸ºä»–æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 2 å’Œ 4 ï¼Œæ„Ÿå†’åºåˆ—ä¸º [1,2,3]ã€‚
- ä¸€å¼€å§‹ï¼Œä¸‹æ ‡ä¸º 1 å’Œ 3 çš„å°æœ‹å‹å¯ä»¥è¢«ä¼ æŸ“ï¼Œå› ä¸ºä»–ä»¬åˆ†åˆ«æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 0 å’Œ 4 ï¼Œä»¤ä¸‹æ ‡ä¸º 1 çš„å°æœ‹å‹å…ˆè¢«ä¼ æŸ“ã€‚
ç„¶åï¼Œä¸‹æ ‡ä¸º 2 çš„å°æœ‹å‹æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 1 ï¼Œä¸‹æ ‡ä¸º 3 çš„å°æœ‹å‹æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 4 ï¼Œä¸¤ä½å°æœ‹å‹éƒ½å¯ä»¥è¢«ä¼ æŸ“ï¼Œä»¤ä¸‹æ ‡ä¸º 3 çš„å°æœ‹å‹è¢«ä¼ æŸ“ã€‚
æœ€åï¼Œä¸‹æ ‡ä¸º 2 çš„å°æœ‹å‹è¢«ä¼ æŸ“ï¼Œå› ä¸ºä»–æŒ¨ç€æ„Ÿå†’çš„å°æœ‹å‹ 1 å’Œ 3 ï¼Œæ„Ÿå†’åºåˆ—ä¸º  [1,3,2]ã€‚
- æ„Ÿå†’åºåˆ— [3,1,2] ï¼Œè¢«ä¼ æŸ“çš„é¡ºåºï¼š[0,1,2,3,4] => [0,1,2,3,4] => [0,1,2,3,4] => [0,1,2,3,4]ã€‚
- æ„Ÿå†’åºåˆ— [3,2,1] ï¼Œè¢«ä¼ æŸ“çš„é¡ºåºï¼š[0,1,2,3,4] => [0,1,2,3,4] => [0,1,2,3,4] => [0,1,2,3,4]ã€‚
```

ç¤ºä¾‹ 2ï¼š

```txt
è¾“å…¥ï¼šn = 4, sick = [1]
è¾“å‡ºï¼š3

è§£é‡Šï¼š
ä¸€å¼€å§‹ï¼Œä¸‹æ ‡ä¸º 0 ï¼Œ2 å’Œ 3 çš„å°æœ‹å‹æ²¡æœ‰æ„Ÿå†’ã€‚æ€»å…±æœ‰ 3 ä¸ªå¯èƒ½çš„æ„Ÿå†’åºåˆ—ï¼š
- æ„Ÿå†’åºåˆ— [0,2,3] ï¼Œè¢«ä¼ æŸ“çš„é¡ºåºï¼š[0,1,2,3] => [0,1,2,3] => [0,1,2,3] => [0,1,2,3]ã€‚
- æ„Ÿå†’åºåˆ— [2,0,3] ï¼Œè¢«ä¼ æŸ“çš„é¡ºåºï¼š[0,1,2,3] => [0,1,2,3] => [0,1,2,3] => [0,1,2,3]ã€‚
- æ„Ÿå†’åºåˆ— [2,3,0] ï¼Œè¢«ä¼ æŸ“çš„é¡ºåºï¼š[0,1,2,3] => [0,1,2,3] => [0,1,2,3] => [0,1,2,3]ã€‚
```

---

æç¤ºï¼š

- `2 <= n <= 10^5`
- `1 <= sick.length <= n - 1`
- `0 <= sick[i] <= n - 1`
- `sick` æŒ‰å‡åºæ’åˆ—ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
