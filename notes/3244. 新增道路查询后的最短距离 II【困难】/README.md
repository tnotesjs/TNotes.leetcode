# [3244. æ–°å¢é“è·¯æŸ¥è¯¢åçš„æœ€çŸ­è·ç¦» IIã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3244.%20%E6%96%B0%E5%A2%9E%E9%81%93%E8%B7%AF%E6%9F%A5%E8%AF%A2%E5%90%8E%E7%9A%84%E6%9C%80%E7%9F%AD%E8%B7%9D%E7%A6%BB%20II%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/shortest-distance-after-road-addition-queries-ii/)

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` å’Œä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `queries`ã€‚

æœ‰ `n` ä¸ªåŸå¸‚ï¼Œç¼–å·ä» `0` åˆ° `n - 1`ã€‚åˆå§‹æ—¶ï¼Œæ¯ä¸ªåŸå¸‚ `i` éƒ½æœ‰ä¸€æ¡å•å‘é“è·¯é€šå¾€åŸå¸‚ `i + 1`ï¼ˆ `0 <= i < n - 1`ï¼‰ã€‚

`queries[i] = [ui, vi]` è¡¨ç¤ºæ–°å»ºä¸€æ¡ä»åŸå¸‚ `ui` åˆ°åŸå¸‚ `vi` çš„å•å‘é“è·¯ã€‚æ¯æ¬¡æŸ¥è¯¢åï¼Œä½ éœ€è¦æ‰¾åˆ°ä»åŸå¸‚ `0` åˆ°åŸå¸‚ `n - 1` çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦ã€‚

æ‰€æœ‰æŸ¥è¯¢ä¸­ä¸ä¼šå­˜åœ¨ä¸¤ä¸ªæŸ¥è¯¢éƒ½æ»¡è¶³ `queries[i][0] < queries[j][0] < queries[i][1] < queries[j][1]`ã€‚

è¿”å›ä¸€ä¸ªæ•°ç»„ `answer`ï¼Œå¯¹äºèŒƒå›´ `[0, queries.length - 1]` ä¸­çš„æ¯ä¸ª `i`ï¼Œ`answer[i]` æ˜¯å¤„ç†å®Œå‰ `i + 1` ä¸ªæŸ¥è¯¢åï¼Œä»åŸå¸‚ `0` åˆ°åŸå¸‚ `n - 1` çš„æœ€çŸ­è·¯å¾„çš„*é•¿åº¦*ã€‚

---

- ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š n = 5, queries = [[2, 4], [0, 2], [0, 4]]

è¾“å‡ºï¼š [3, 2, 1]

è§£é‡Šï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-34-59.png)

æ–°å¢ä¸€æ¡ä» 2 åˆ° 4 çš„é“è·¯åï¼Œä» 0 åˆ° 4 çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸º 3ã€‚

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-35-04.png)

æ–°å¢ä¸€æ¡ä» 0 åˆ° 2 çš„é“è·¯åï¼Œä» 0 åˆ° 4 çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸º 2ã€‚

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-35-08.png)

æ–°å¢ä¸€æ¡ä» 0 åˆ° 4 çš„é“è·¯åï¼Œä» 0 åˆ° 4 çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸º 1ã€‚

---

- ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š n = 4, queries = [[0, 3], [0, 2]]

è¾“å‡ºï¼š [1, 1]

è§£é‡Šï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-35-14.png)

æ–°å¢ä¸€æ¡ä» 0 åˆ° 3 çš„é“è·¯åï¼Œä» 0 åˆ° 3 çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸º 1ã€‚

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-12-35-18.png)

æ–°å¢ä¸€æ¡ä» 0 åˆ° 2 çš„é“è·¯åï¼Œä» 0 åˆ° 3 çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä»ä¸º 1ã€‚

---

æç¤ºï¼š

- `3 <= n <= 10^5`
- `1 <= queries.length <= 10^5`
- `queries[i].length == 2`
- `0 <= queries[i][0] < queries[i][1] < n`
- `1 < queries[i][1] - queries[i][0]`
- æŸ¥è¯¢ä¸­ä¸å­˜åœ¨é‡å¤çš„é“è·¯ã€‚
- ä¸å­˜åœ¨ä¸¤ä¸ªæŸ¥è¯¢éƒ½æ»¡è¶³ `i != j` ä¸” `queries[i][0] < queries[j][0] < queries[i][1] < queries[j][1]`ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
