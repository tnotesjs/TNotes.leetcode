# [3539. é­”æ³•åºåˆ—çš„æ•°ç»„ä¹˜ç§¯ä¹‹å’Œã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3539.%20%E9%AD%94%E6%B3%95%E5%BA%8F%E5%88%97%E7%9A%84%E6%95%B0%E7%BB%84%E4%B9%98%E7%A7%AF%E4%B9%8B%E5%92%8C%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/find-sum-of-array-product-of-magical-sequences/)

ç»™ä½ ä¸¤ä¸ªæ•´æ•° `M` å’Œ `K`ï¼Œå’Œä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ã€‚

ä¸€ä¸ªæ•´æ•°åºåˆ— `seq` å¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œè¢«ç§°ä¸º é­”æ³• åºåˆ—ï¼š

- `seq` çš„åºåˆ—é•¿åº¦ä¸º `M`ã€‚
- `0 <= seq[i] < nums.length`
- `2^seq[0] + 2^seq[1] + ... + 2^seq[M - 1]` çš„ äºŒè¿›åˆ¶å½¢å¼ æœ‰ `K` ä¸ª ç½®ä½ã€‚

è¿™ä¸ªåºåˆ—çš„ æ•°ç»„ä¹˜ç§¯ å®šä¹‰ä¸º `prod(seq) = (nums[seq[0]] * nums[seq[1]] * ... * nums[seq[M - 1]])`ã€‚

è¿”å›æ‰€æœ‰æœ‰æ•ˆ é­”æ³• åºåˆ—çš„ æ•°ç»„ä¹˜ç§¯ çš„ æ€»å’Œã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¿”å›ç»“æœå¯¹ `10^9 + 7` å–æ¨¡ã€‚

ç½®ä½ æ˜¯æŒ‡ä¸€ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­å€¼ä¸º 1 çš„ä½ã€‚

---

- ç¤ºä¾‹ 1ï¼š

è¾“å…¥: M = 5, K = 5, nums = [1,10,100,10000,1000000]

è¾“å‡º: 991600007

è§£é‡Š:

æ‰€æœ‰ `[0, 1, 2, 3, 4]` çš„æ’åˆ—éƒ½æ˜¯é­”æ³•åºåˆ—ï¼Œæ¯ä¸ªåºåˆ—çš„æ•°ç»„ä¹˜ç§¯æ˜¯ 10^13ã€‚

---

- ç¤ºä¾‹ 2ï¼š

è¾“å…¥: M = 2, K = 2, nums = [5,4,3,2,1]

è¾“å‡º: 170

è§£é‡Š:

é­”æ³•åºåˆ—æœ‰ `[0, 1]`ï¼Œ`[0, 2]`ï¼Œ`[0, 3]`ï¼Œ`[0, 4]`ï¼Œ`[1, 0]`ï¼Œ`[1, 2]`ï¼Œ`[1, 3]`ï¼Œ`[1, 4]`ï¼Œ`[2, 0]`ï¼Œ`[2, 1]`ï¼Œ`[2, 3]`ï¼Œ`[2, 4]`ï¼Œ`[3, 0]`ï¼Œ`[3, 1]`ï¼Œ`[3, 2]`ï¼Œ`[3, 4]`ï¼Œ`[4, 0]`ï¼Œ`[4, 1]`ï¼Œ`[4, 2]` å’Œ `[4, 3]`ã€‚

---

- ç¤ºä¾‹ 3ï¼š

è¾“å…¥: M = 1, K = 1, nums = [28]

è¾“å‡º: 28

è§£é‡Š:

å”¯ä¸€çš„é­”æ³•åºåˆ—æ˜¯ `[0]`ã€‚

---

æç¤ºï¼š

- `1 <= K <= M <= 30`
- `1 <= nums.length <= 50`
- `1 <= nums[i] <= 10^8`

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
