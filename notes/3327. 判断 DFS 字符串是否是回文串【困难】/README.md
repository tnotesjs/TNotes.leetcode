# [3327. åˆ¤æ–­ DFS å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3327.%20%E5%88%A4%E6%96%AD%20DFS%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E6%98%AF%E5%9B%9E%E6%96%87%E4%B8%B2%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/check-if-dfs-strings-are-palindromes/)

ç»™ä½ ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹ä¸º 0 ï¼Œ`n` ä¸ªèŠ‚ç‚¹çš„ç¼–å·ä¸º `0` åˆ° `n - 1` ã€‚è¿™æ£µæ ‘ç”¨ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `parent` è¡¨ç¤ºï¼Œå…¶ä¸­ `parent[i]` æ˜¯èŠ‚ç‚¹ `i` çš„çˆ¶èŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹ 0 æ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥ `parent[0] == -1` ã€‚

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„å­—ç¬¦ä¸² `s` ï¼Œå…¶ä¸­ `s[i]` æ˜¯èŠ‚ç‚¹ `i` å¯¹åº”çš„å­—ç¬¦ã€‚

ä¸€å¼€å§‹ä½ æœ‰ä¸€ä¸ªç©ºå­—ç¬¦ä¸² `dfsStr` ï¼Œå®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° `dfs(int x)` ï¼Œå®ƒçš„è¾“å…¥æ˜¯èŠ‚ç‚¹ `x` ï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- æŒ‰ç…§ **èŠ‚ç‚¹ç¼–å·å‡åº** éå† `x` çš„æ‰€æœ‰å­©å­èŠ‚ç‚¹ `y` ï¼Œå¹¶è°ƒç”¨ `dfs(y)` ã€‚
- å°† å­—ç¬¦ `s[x]` æ·»åŠ åˆ°å­—ç¬¦ä¸² `dfsStr` çš„æœ«å°¾ã€‚

**æ³¨æ„ï¼Œ**æ‰€æœ‰é€’å½’å‡½æ•° `dfs` éƒ½å…±äº«å…¨å±€å˜é‡ `dfsStr` ã€‚

ä½ éœ€è¦æ±‚å‡ºä¸€ä¸ªé•¿åº¦ä¸º `n` çš„å¸ƒå°”æ•°ç»„ `answer` ï¼Œå¯¹äº `0` åˆ° `n - 1` çš„æ¯ä¸€ä¸ªä¸‹æ ‡ `i` ï¼Œä½ éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- æ¸…ç©ºå­—ç¬¦ä¸² `dfsStr` å¹¶è°ƒç”¨ `dfs(i)` ã€‚
- å¦‚æœç»“æœå­—ç¬¦ä¸² `dfsStr` æ˜¯ä¸€ä¸ª å›æ–‡ä¸² ï¼Œ`answer[i]` ä¸º `true` ï¼Œå¦åˆ™ `answer[i]` ä¸º `false` ã€‚

> - å›æ–‡ ä¸²æ˜¯å‘å‰å’Œå‘åè¯»éƒ½ç›¸åŒçš„å­—ç¬¦ä¸²ã€‚

è¯·ä½ è¿”å›å­—ç¬¦ä¸² `answer` ã€‚

---

- **ç¤ºä¾‹ 1ï¼š**

![å›¾ 0](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-21-13-47.png)

**è¾“å…¥ï¼š** parent = [-1,0,0,1,1,2], s = "aababa"

**è¾“å‡ºï¼š** [true,true,false,true,true,true]

**è§£é‡Šï¼š**

- è°ƒç”¨ `dfs(0)` ï¼Œå¾—åˆ°å­—ç¬¦ä¸² `dfsStr = "abaaba"` ï¼Œæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚
- è°ƒç”¨ `dfs(1)` ï¼Œå¾—åˆ°å­—ç¬¦ä¸²`dfsStr = "aba"` ï¼Œæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚
- è°ƒç”¨ `dfs(2)` ï¼Œå¾—åˆ°å­—ç¬¦ä¸²`dfsStr = "ab"` ï¼Œ**ä¸** æ˜¯å›æ–‡ä¸²ã€‚
- è°ƒç”¨ `dfs(3)` ï¼Œå¾—åˆ°å­—ç¬¦ä¸²`dfsStr = "a"` ï¼Œæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚
- è°ƒç”¨ `dfs(4)` ï¼Œå¾—åˆ°å­—ç¬¦ä¸² `dfsStr = "b"` ï¼Œæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚
- è°ƒç”¨ `dfs(5)` ï¼Œå¾—åˆ°å­—ç¬¦ä¸² `dfsStr = "a"` ï¼Œæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚

---

- **ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2024/09/01/tree2drawio-1.png)

**è¾“å…¥ï¼š** parent = [-1,0,0,0,0], s = "aabcb"

**è¾“å‡ºï¼š** [true,true,true,true,true]

**è§£é‡Šï¼š**

æ¯ä¸€æ¬¡è°ƒç”¨ `dfs(x)` éƒ½å¾—åˆ°ä¸€ä¸ªå›æ–‡ä¸²ã€‚

---

**æç¤ºï¼š**

- `n == parent.length == s.length`
- `1 <= n <= 10^5`
- å¯¹äºæ‰€æœ‰ `i >= 1` ï¼Œéƒ½æœ‰ `0 <= parent[i] <= n - 1` ã€‚
- `parent[0] == -1`
- `parent` è¡¨ç¤ºä¸€æ£µåˆæ³•çš„æ ‘ã€‚
- `s` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
