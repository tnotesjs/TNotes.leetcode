# [3428. 最多 K 个元素的子序列的最值之和【中等】](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3428.%20%E6%9C%80%E5%A4%9A%20K%20%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%80%BC%E4%B9%8B%E5%92%8C%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. 📝 题目描述](#1--题目描述)
- [2. 🎯 s.1 - 解法 1](#2--s1---解法-1)
- [3. 🎯 s.2 - 解法 2](#3--s2---解法-2)
- [4. 🎯 s.3 - 解法 3](#4--s3---解法-3)

<!-- endregion:toc -->

## 1. 📝 题目描述

- [leetcode](https://leetcode.cn/problems/maximum-and-minimum-sums-of-at-most-size-k-subsequences/)

给你一个整数数组 `nums` 和一个正整数 `k`，返回所有长度最多为 `k` 的 子序列 中 最大值 与 最小值 之和的总和。

非空子序列 是指从另一个数组中删除一些或不删除任何元素（且不改变剩余元素的顺序）得到的数组。

由于答案可能非常大，请返回对 `10^9 + 7` 取余数的结果。

---

- 示例 1：

输入： nums = [1,2,3], k = 2

输出： 24

解释：

数组 `nums` 中所有长度最多为 2 的子序列如下：

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-29-22-04-19.png)

因此，输出为 24。

---

- 示例 2：

输入： nums = [5,0,6], k = 1

输出： 22

解释：

对于长度恰好为 1 的子序列，最小值和最大值均为元素本身。因此，总和为 `5 + 5 + 0 + 0 + 6 + 6 = 22`。

---

- 示例 3：

输入： nums = [1,1,1], k = 2

输出： 12

解释：

子序列 `[1, 1]` 和 `[1]` 各出现 3 次。对于所有这些子序列，最小值和最大值均为 1。因此，总和为 12。

---

提示：

- `1 <= nums.length <= 10^5`
- `0 <= nums[i] <= 10^9`
- `1 <= k <= min(100, nums.length)`

## 2. 🎯 s.1 - 解法 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$

## 3. 🎯 s.2 - 解法 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$

## 4. 🎯 s.3 - 解法 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$
