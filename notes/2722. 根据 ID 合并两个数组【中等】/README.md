# [2722. æ ¹æ® ID åˆå¹¶ä¸¤ä¸ªæ•°ç»„ã€ä¸­ç­‰ã€‘](https://github.com/Tdahuyou/TNotes.leetcode/tree/main/notes/2722.%20%E6%A0%B9%E6%8D%AE%20ID%20%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ Description](#1--description)
- [2. ğŸ¯ Solutions.1](#2--solutions1)

<!-- endregion:toc -->

## 1. ğŸ“ Description

::: details [leetcode](https://leetcode.cn/problems/join-two-arrays-by-id)

ç°ç»™å®šä¸¤ä¸ªæ•°ç»„ `arr1` å’Œ `arr2` ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ `joinedArray` ã€‚ä¸¤ä¸ªè¾“å…¥æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ª `id` å­—æ®µã€‚

`joinedArray` æ˜¯ä¸€ä¸ªé€šè¿‡ `id` å°† `arr1` å’Œ `arr2` è¿æ¥è€Œæˆçš„æ•°ç»„ã€‚`joinedArray` çš„é•¿åº¦åº”ä¸ºå”¯ä¸€å€¼ `id` çš„é•¿åº¦ã€‚è¿”å›çš„æ•°ç»„åº”æŒ‰ `id` **å‡åº** æ’åºã€‚

å¦‚æœä¸€ä¸ª `id` å­˜åœ¨äºä¸€ä¸ªæ•°ç»„ä¸­ä½†ä¸å­˜åœ¨äºå¦ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œåˆ™è¯¥å¯¹è±¡åº”åŒ…å«åœ¨ç»“æœæ•°ç»„ä¸­ä¸”ä¸è¿›è¡Œä¿®æ”¹ã€‚

å¦‚æœä¸¤ä¸ªå¯¹è±¡å…±äº«ä¸€ä¸ª `id` ï¼Œåˆ™å®ƒä»¬çš„å±æ€§åº”è¿›è¡Œåˆå¹¶ï¼š

- å¦‚æœä¸€ä¸ªé”®åªå­˜åœ¨äºä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œåˆ™è¯¥é”®å€¼å¯¹åº”è¯¥åŒ…å«åœ¨å¯¹è±¡ä¸­ã€‚
- å¦‚æœä¸€ä¸ªé”®åœ¨ä¸¤ä¸ªå¯¹è±¡ä¸­éƒ½åŒ…å«ï¼Œåˆ™ `arr2` ä¸­çš„å€¼åº”è¦†ç›– `arr1` ä¸­çš„å€¼ã€‚

**ç¤ºä¾‹ 1ï¼š**

è¾“å…¥ï¼š

```js
;(arr1 = [
  { id: 1, x: 1 },
  { id: 2, x: 9 },
]),
  (arr2 = [{ id: 3, x: 5 }])
```

è¾“å‡ºï¼š

```js
;[
  { id: 1, x: 1 },
  { id: 2, x: 9 },
  { id: 3, x: 5 },
]
```

è§£é‡Šï¼šæ²¡æœ‰å…±åŒçš„ idï¼Œå› æ­¤å°† arr1 ä¸ arr2 ç®€å•åœ°è¿æ¥èµ·æ¥ã€‚

**ç¤ºä¾‹ 2ï¼š**

è¾“å…¥ï¼š

```js
;(arr1 = [
  { id: 1, x: 2, y: 3 },
  { id: 2, x: 3, y: 6 },
]),
  (arr2 = [
    { id: 2, x: 10, y: 20 },
    { id: 3, x: 0, y: 0 },
  ])
```

è¾“å‡ºï¼š

```js
;[
  { id: 1, x: 2, y: 3 },
  { id: 2, x: 10, y: 20 },
  { id: 3, x: 0, y: 0 },
]
```

è§£é‡Šï¼šid ä¸º 1 å’Œ id ä¸º 3 çš„å¯¹è±¡åœ¨ç»“æœæ•°ç»„ä¸­ä¿æŒä¸å˜ã€‚id ä¸º 2 çš„ä¸¤ä¸ªå¯¹è±¡åˆå¹¶åœ¨ä¸€èµ·ã€‚arr2 ä¸­çš„é”®è¦†ç›– arr1 ä¸­çš„å€¼ã€‚

**ç¤ºä¾‹ 3ï¼š**

è¾“å…¥ï¼š

```js
arr1 = [{ id: 1, b: { b: 94 }, v: [4, 3], y: 48 }]
arr2 = [{ id: 1, b: { c: 84 }, v: [1, 3] }]
```

è¾“å‡ºï¼š`[ {"id": 1, "b": {"c": 84}, "v": [1, 3], "y": 48} ]`

è§£é‡Šï¼šå…·æœ‰ id ä¸º 1 çš„å¯¹è±¡åˆå¹¶åœ¨ä¸€èµ·ã€‚å¯¹äºé”® "b" å’Œ "v" ï¼Œä½¿ç”¨ arr2 ä¸­çš„å€¼ã€‚ç”±äºé”® "y" åªå­˜åœ¨äº arr1 ä¸­ï¼Œå› æ­¤å– arr1 çš„å€¼ã€‚

**æç¤ºï¼š**

- `arr1 å’Œ arr2 éƒ½æ˜¯æœ‰æ•ˆçš„ JSON æ•°ç»„`
- `åœ¨ arr1 å’Œ arr2 ä¸­éƒ½æœ‰å”¯ä¸€çš„é”®å€¼ id`
- `2 <= JSON.stringify(arr1).length <= 10^6`
- `2 <= JSON.stringify(arr2).length <= 10^6`

:::

## 2. ğŸ¯ Solutions.1

```javascript
/**
 * @param {Array} arr1
 * @param {Array} arr2
 * @return {Array}
 */
var join = function (arr1, arr2) {
  const ans = [...arr1] // é˜²æ­¢ä¿®æ”¹ arr1

  // åˆå§‹åŒ– map
  const map = new Map() // å­˜å‚¨ id -> index çš„æ˜ å°„
  for (let i = 0; i < ans.length; i++) map.set(ans[i].id, i)

  // æŸ¥ arr2
  for (let i = 0; i < arr2.length; i++) {
    const item = arr2[i]
    if (!map.has(item.id)) {
      // id ä¸å­˜åœ¨
      ans.push(item)
      map.set(item.id, ans.length - 1)
    } else {
      // id å­˜åœ¨
      const existedItem = ans[map.get(item.id)]
      ans[map.get(item.id)] = { ...existedItem, ...item }
    }
  }

  return ans.sort((a, b) => a.id - b.id) // æŒ‰ç…§ id å‡åºæ’åº
}
```
