# [3067. åœ¨å¸¦æƒæ ‘ç½‘ç»œä¸­ç»Ÿè®¡å¯è¿æ¥æœåŠ¡å™¨å¯¹æ•°ç›®ã€ä¸­ç­‰ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3067.%20%E5%9C%A8%E5%B8%A6%E6%9D%83%E6%A0%91%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%BB%9F%E8%AE%A1%E5%8F%AF%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AF%B9%E6%95%B0%E7%9B%AE%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/count-pairs-of-connectable-servers-in-a-weighted-tree-network/)

ç»™ä½ ä¸€æ£µæ— æ ¹å¸¦æƒæ ‘ï¼Œæ ‘ä¸­æ€»å…±æœ‰ `n` ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«è¡¨ç¤º `n` ä¸ªæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä» `0` åˆ° `n - 1` ç¼–å·ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi, weighti]` è¡¨ç¤ºèŠ‚ç‚¹ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡åŒå‘è¾¹ï¼Œè¾¹çš„æƒå€¼ä¸º `weighti`ã€‚å†ç»™ä½ ä¸€ä¸ªæ•´æ•° `signalSpeed`ã€‚

å¦‚æœä¸¤å°æœåŠ¡å™¨ `a` å’Œ `b` æ˜¯é€šè¿‡æœåŠ¡å™¨ `c` å¯è¿æ¥çš„ï¼Œåˆ™ï¼š

- `a < b` ï¼Œ`a != c` ä¸” `b != c`ã€‚
- ä» `c` åˆ° `a` çš„è·ç¦»æ˜¯å¯ä»¥è¢« `signalSpeed` æ•´é™¤çš„ã€‚
- ä» `c` åˆ° `b` çš„è·ç¦»æ˜¯å¯ä»¥è¢« `signalSpeed` æ•´é™¤çš„ã€‚
- ä» `c` åˆ° `b` çš„è·¯å¾„ä¸ä» `c` åˆ° `a` çš„è·¯å¾„æ²¡æœ‰ä»»ä½•å…¬å…±è¾¹ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `count` ï¼Œå…¶ä¸­ `count[i]` è¡¨ç¤ºé€šè¿‡æœåŠ¡å™¨ `i` å¯è¿æ¥ çš„æœåŠ¡å™¨å¯¹çš„ æ•°ç›®ã€‚

---

- ç¤ºä¾‹ 1ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-28-21-53-46.png)

```txt
è¾“å…¥ï¼šedges = [[0,1,1],[1,2,5],[2,3,13],[3,4,9],[4,5,2]], signalSpeed = 1
è¾“å‡ºï¼š[0,4,6,6,4,0]
è§£é‡Šï¼šç”±äº signalSpeed ç­‰äº 1 ï¼Œcount[c] ç­‰äºæ‰€æœ‰ä» c å¼€å§‹ä¸”æ²¡æœ‰å…¬å…±è¾¹çš„è·¯å¾„å¯¹æ•°ç›®ã€‚
åœ¨è¾“å…¥å›¾ä¸­ï¼Œcount[c] ç­‰äºæœåŠ¡å™¨ c å·¦è¾¹æœåŠ¡å™¨æ•°ç›®ä¹˜ä»¥å³è¾¹æœåŠ¡å™¨æ•°ç›®ã€‚
```

- ç¤ºä¾‹ 2ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-28-21-53-52.png)

```txt
è¾“å…¥ï¼šedges = [[0,6,3],[6,5,3],[0,3,1],[3,2,7],[3,1,6],[3,4,2]], signalSpeed = 3
è¾“å‡ºï¼š[2,0,0,0,0,0,2]
è§£é‡Šï¼šé€šè¿‡æœåŠ¡å™¨ 0 ï¼Œæœ‰ 2 ä¸ªå¯è¿æ¥æœåŠ¡å™¨å¯¹(4, 5) å’Œ (4, 6)ã€‚
é€šè¿‡æœåŠ¡å™¨ 6 ï¼Œæœ‰ 2 ä¸ªå¯è¿æ¥æœåŠ¡å™¨å¯¹ (4, 5) å’Œ (0, 5)ã€‚
æ‰€æœ‰æœåŠ¡å™¨å¯¹éƒ½å¿…é¡»é€šè¿‡æœåŠ¡å™¨ 0 æˆ– 6 æ‰å¯è¿æ¥ï¼Œæ‰€ä»¥å…¶ä»–æœåŠ¡å™¨å¯¹åº”çš„å¯è¿æ¥æœåŠ¡å™¨å¯¹æ•°ç›®éƒ½ä¸º 0ã€‚
```

---

æç¤ºï¼š

- `2 <= n <= 1000`
- `edges.length == n - 1`
- `edges[i].length == 3`
- `0 <= ai, bi < n`
- `edges[i] = [ai, bi, weighti]`
- `1 <= weighti <= 10^6`
- `1 <= signalSpeed <= 10^6`
- è¾“å…¥ä¿è¯ `edges` æ„æˆä¸€æ£µåˆæ³•çš„æ ‘ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
