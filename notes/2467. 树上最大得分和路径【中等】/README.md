# [2467. æ ‘ä¸Šæœ€å¤§å¾—åˆ†å’Œè·¯å¾„ã€ä¸­ç­‰ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/2467.%20%E6%A0%91%E4%B8%8A%E6%9C%80%E5%A4%A7%E5%BE%97%E5%88%86%E5%92%8C%E8%B7%AF%E5%BE%84%E3%80%90%E4%B8%AD%E7%AD%89%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/most-profitable-path-in-a-tree/)

ä¸€ä¸ª `n` ä¸ªèŠ‚ç‚¹çš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º `0` åˆ° `n - 1`ï¼Œæ ‘çš„æ ¹ç»“ç‚¹æ˜¯ `0` å·èŠ‚ç‚¹ã€‚ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n - 1` çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges`ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]`ï¼Œè¡¨ç¤ºèŠ‚ç‚¹ `ai` å’Œ `bi` åœ¨æ ‘ä¸­æœ‰ä¸€æ¡è¾¹ã€‚

åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ `i` å¤„æœ‰ä¸€æ‰‡é—¨ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªéƒ½æ˜¯å¶æ•°çš„æ•°ç»„ `amount`ï¼Œå…¶ä¸­ `amount[i]` è¡¨ç¤ºï¼š

- å¦‚æœ `amount[i]` çš„å€¼æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºæ‰“å¼€èŠ‚ç‚¹ `i` å¤„é—¨æ‰£é™¤çš„åˆ†æ•°ã€‚
- å¦‚æœ `amount[i]` çš„å€¼æ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºæ‰“å¼€èŠ‚ç‚¹ `i` å¤„é—¨åŠ ä¸Šçš„åˆ†æ•°ã€‚

æ¸¸æˆæŒ‰ç…§å¦‚ä¸‹è§„åˆ™è¿›è¡Œï¼š

- ä¸€å¼€å§‹ï¼ŒAlice åœ¨èŠ‚ç‚¹ `0` å¤„ï¼ŒBob åœ¨èŠ‚ç‚¹ `bob` å¤„ã€‚
- æ¯ä¸€ç§’é’Ÿï¼ŒAlice å’Œ Bob åˆ†åˆ« ç§»åŠ¨åˆ°ç›¸é‚»çš„èŠ‚ç‚¹ã€‚Alice æœç€æŸä¸ª å¶å­ç»“ç‚¹ ç§»åŠ¨ï¼ŒBob æœç€èŠ‚ç‚¹ `0` ç§»åŠ¨ã€‚
- å¯¹äºä»–ä»¬ä¹‹é—´è·¯å¾„ä¸Šçš„ æ¯ä¸€ä¸ª èŠ‚ç‚¹ï¼ŒAlice å’Œ Bob è¦ä¹ˆæ‰“å¼€é—¨å¹¶æ‰£åˆ†ï¼Œè¦ä¹ˆæ‰“å¼€é—¨å¹¶åŠ åˆ†ã€‚æ³¨æ„ï¼š
  - å¦‚æœé—¨ å·²ç»æ‰“å¼€ ï¼ˆè¢«å¦ä¸€ä¸ªäººæ‰“å¼€ï¼‰ï¼Œä¸ä¼šæœ‰é¢å¤–åŠ åˆ†ä¹Ÿä¸ä¼šæ‰£åˆ†ã€‚
  - å¦‚æœ Alice å’Œ Bob åŒæ—¶ åˆ°è¾¾ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–ä»¬ä¼šå…±äº«è¿™ä¸ªèŠ‚ç‚¹çš„åŠ åˆ†æˆ–è€…æ‰£åˆ†ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœæ‰“å¼€è¿™æ‰‡é—¨æ‰£ `c` åˆ†ï¼Œé‚£ä¹ˆ Alice å’Œ Bob åˆ†åˆ«æ‰£ `c / 2` åˆ†ã€‚å¦‚æœè¿™æ‰‡é—¨çš„åŠ åˆ†ä¸º `c`ï¼Œé‚£ä¹ˆä»–ä»¬åˆ†åˆ«åŠ  `c / 2` åˆ†ã€‚
- å¦‚æœ Alice åˆ°è¾¾äº†ä¸€ä¸ªå¶å­ç»“ç‚¹ï¼Œå¥¹ä¼šåœæ­¢ç§»åŠ¨ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æœ Bob åˆ°è¾¾äº†èŠ‚ç‚¹ `0`ï¼Œä»–ä¹Ÿä¼šåœæ­¢ç§»åŠ¨ã€‚æ³¨æ„è¿™äº›äº‹ä»¶äº’ç›¸ ç‹¬ç«‹ï¼Œä¸ä¼šå½±å“å¦ä¸€æ–¹ç§»åŠ¨ã€‚

è¯·ä½ è¿”å› Alice æœæœ€ä¼˜å¶å­ç»“ç‚¹ç§»åŠ¨çš„ æœ€å¤§ å‡€å¾—åˆ†ã€‚

---

ç¤ºä¾‹ 1ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-27-20-14-28.png)

```txt
è¾“å…¥ï¼šedges = [[0,1],[1,2],[1,3],[3,4]], bob = 3, amount = [-2,4,2,-4,6]
è¾“å‡ºï¼š6
è§£é‡Šï¼š
ä¸Šå›¾å±•ç¤ºäº†è¾“å…¥ç»™å‡ºçš„ä¸€æ£µæ ‘ã€‚æ¸¸æˆè¿›è¡Œå¦‚ä¸‹ï¼š
- Alice ä¸€å¼€å§‹åœ¨èŠ‚ç‚¹ 0 å¤„ï¼ŒBob åœ¨èŠ‚ç‚¹ 3 å¤„ã€‚ä»–ä»¬åˆ†åˆ«æ‰“å¼€æ‰€åœ¨èŠ‚ç‚¹çš„é—¨ã€‚
  Alice å¾—åˆ†ä¸º -2ã€‚
- Alice å’Œ Bob éƒ½ç§»åŠ¨åˆ°èŠ‚ç‚¹ 1ã€‚
  å› ä¸ºä»–ä»¬åŒæ—¶åˆ°è¾¾è¿™ä¸ªèŠ‚ç‚¹ï¼Œä»–ä»¬ä¸€èµ·æ‰“å¼€é—¨å¹¶å¹³åˆ†å¾—åˆ†ã€‚
  Alice çš„å¾—åˆ†å˜ä¸º -2 + (4 / 2) = 0ã€‚
- Alice ç§»åŠ¨åˆ°èŠ‚ç‚¹ 3ã€‚å› ä¸º Bob å·²ç»æ‰“å¼€äº†è¿™æ‰‡é—¨ï¼ŒAlice å¾—åˆ†ä¸å˜ã€‚
  Bob ç§»åŠ¨åˆ°èŠ‚ç‚¹ 0ï¼Œå¹¶åœæ­¢ç§»åŠ¨ã€‚
- Alice ç§»åŠ¨åˆ°èŠ‚ç‚¹ 4 å¹¶æ‰“å¼€è¿™ä¸ªèŠ‚ç‚¹çš„é—¨ï¼Œå¥¹å¾—åˆ†å˜ä¸º 0 + 6 = 6ã€‚
ç°åœ¨ï¼ŒAlice å’Œ Bob éƒ½ä¸èƒ½è¿›è¡Œä»»ä½•ç§»åŠ¨äº†ï¼Œæ‰€ä»¥æ¸¸æˆç»“æŸã€‚
Alice æ— æ³•å¾—åˆ°æ›´é«˜åˆ†æ•°ã€‚
```

ç¤ºä¾‹ 2ï¼š

![img](https://cdn.jsdelivr.net/gh/tnotesjs/imgs@main/2025-09-27-20-14-37.png)

```txt
è¾“å…¥ï¼šedges = [[0,1]], bob = 1, amount = [-7280,2350]
è¾“å‡ºï¼š-7280
è§£é‡Šï¼š
Alice æŒ‰ç…§è·¯å¾„ 0->1 ç§»åŠ¨ï¼ŒåŒæ—¶ Bob æŒ‰ç…§è·¯å¾„ 1->0 ç§»åŠ¨ã€‚
æ‰€ä»¥ Alice åªæ‰“å¼€èŠ‚ç‚¹ 0 å¤„çš„é—¨ï¼Œå¥¹çš„å¾—åˆ†ä¸º -7280ã€‚
```

---

æç¤ºï¼š

- `2 <= n <= 10^5`
- `edges.length == n - 1`
- `edges[i].length == 2`
- `0 <= ai, bi < n`
- `ai != bi`
- `edges` è¡¨ç¤ºä¸€æ£µæœ‰æ•ˆçš„æ ‘ã€‚
- `1 <= bob < n`
- `amount.length == n`
- `amount[i]` æ˜¯èŒƒå›´ `[-10^4, 10^4]` ä¹‹é—´çš„ä¸€ä¸ª å¶æ•°ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
