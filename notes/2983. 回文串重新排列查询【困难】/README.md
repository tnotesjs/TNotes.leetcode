# [2983. å›æ–‡ä¸²é‡æ–°æ’åˆ—æŸ¥è¯¢ã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/2983.%20%E5%9B%9E%E6%96%87%E4%B8%B2%E9%87%8D%E6%96%B0%E6%8E%92%E5%88%97%E6%9F%A5%E8%AF%A2%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/palindrome-rearrangement-queries/)

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º **å¶æ•°** `n` ï¼Œä¸‹æ ‡ä» **0** å¼€å§‹çš„å­—ç¬¦ä¸² `s` ã€‚

åŒæ—¶ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ `queries` ï¼Œå…¶ä¸­ `queries[i] = [ai, bi, ci, di]` ã€‚

å¯¹äºæ¯ä¸ªæŸ¥è¯¢ `i` ï¼Œä½ éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- å°†ä¸‹æ ‡åœ¨èŒƒå›´ `0 <= ai <= bi < n / 2` å†…çš„ **å­å­—ç¬¦ä¸²** `s[ai:bi]` ä¸­çš„å­—ç¬¦é‡æ–°æ’åˆ—ã€‚
- å°†ä¸‹æ ‡åœ¨èŒƒå›´ `n / 2 <= ci <= di < n` å†…çš„ **å­å­—ç¬¦ä¸²** `s[ci:di]` ä¸­çš„å­—ç¬¦é‡æ–°æ’åˆ—ã€‚

å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œä½ çš„ä»»åŠ¡æ˜¯åˆ¤æ–­æ‰§è¡Œæ“ä½œåèƒ½å¦è®© `s` å˜æˆä¸€ä¸ª **å›æ–‡ä¸²** ã€‚

æ¯ä¸ªæŸ¥è¯¢ä¸å…¶ä»–æŸ¥è¯¢éƒ½æ˜¯ **ç‹¬ç«‹çš„** ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ•°ç»„ `answer` ï¼Œå¦‚æœç¬¬ `i` ä¸ªæŸ¥è¯¢æ‰§è¡Œæ“ä½œåï¼Œå¯ä»¥å°† `s` å˜ä¸ºä¸€ä¸ªå›æ–‡ä¸²ï¼Œé‚£ä¹ˆ `answer[i] = true`ï¼Œå¦åˆ™ä¸º `false` ã€‚

- **å­å­—ç¬¦ä¸²** æŒ‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¸€æ®µè¿ç»­çš„å­—ç¬¦åºåˆ—ã€‚
- `s[x:y]` è¡¨ç¤º `s` ä¸­ä»ä¸‹æ ‡ `x` åˆ° `y` ä¸”ä¸¤ä¸ªç«¯ç‚¹ **éƒ½åŒ…å«** çš„å­å­—ç¬¦ä¸²ã€‚

---

- **ç¤ºä¾‹ 1ï¼š**

```txt
è¾“å…¥ï¼šs = "abcabc", queries = [[1,1,3,5],[0,2,5,5]]
è¾“å‡ºï¼š[true,true]
è§£é‡Šï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰ 2 ä¸ªæŸ¥è¯¢ï¼š
ç¬¬ä¸€ä¸ªæŸ¥è¯¢ï¼š
- a0 = 1, b0 = 1, c0 = 3, d0 = 5
- ä½ å¯ä»¥é‡æ–°æ’åˆ— s[1:1] => abcabc å’Œ s[3:5] => abcabc ã€‚
- ä¸ºäº†è®© s å˜ä¸ºå›æ–‡ä¸²ï¼Œs[3:5] å¯ä»¥é‡æ–°æ’åˆ—å¾—åˆ° => abccba ã€‚
- ç°åœ¨ s æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚æ‰€ä»¥ answer[0] = true ã€‚
ç¬¬äºŒä¸ªæŸ¥è¯¢ï¼š
- a1 = 0, b1 = 2, c1 = 5, d1 = 5.
- ä½ å¯ä»¥é‡æ–°æ’åˆ— s[0:2] => abcabc å’Œ s[5:5] => abcabc ã€‚
- ä¸ºäº†è®© s å˜ä¸ºå›æ–‡ä¸²ï¼Œs[0:2] å¯ä»¥é‡æ–°æ’åˆ—å¾—åˆ° => cbaabc ã€‚
- ç°åœ¨ s æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ï¼Œæ‰€ä»¥ answer[1] = true ã€‚
```

- **ç¤ºä¾‹ 2ï¼š**

```txt
è¾“å…¥ï¼šs = "abbcdecbba", queries = [[0,2,7,9]]
è¾“å‡ºï¼š[false]
è§£é‡Šï¼šè¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªæŸ¥è¯¢ã€‚
a0 = 0, b0 = 2, c0 = 7, d0 = 9.
ä½ å¯ä»¥é‡æ–°æ’åˆ— s[0:2] => abbcdecbba å’Œ s[7:9] => abbcdecbba ã€‚
æ— æ³•é€šè¿‡é‡æ–°æ’åˆ—è¿™äº›å­å­—ç¬¦ä¸²ä½¿ s å˜ä¸ºä¸€ä¸ªå›æ–‡ä¸²ï¼Œå› ä¸º s[3:6] ä¸æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚
æ‰€ä»¥ answer[0] = false ã€‚
```

- **ç¤ºä¾‹ 3ï¼š**

```txt
è¾“å…¥ï¼šs = "acbcab", queries = [[1,2,4,5]]
è¾“å‡ºï¼š[true]
è§£é‡Šï¼šè¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªæŸ¥è¯¢ã€‚
a0 = 1, b0 = 2, c0 = 4, d0 = 5.
ä½ å¯ä»¥é‡æ–°æ’åˆ— s[1:2] => acbcab å’Œ s[4:5] => acbcab ã€‚
ä¸ºäº†è®© s å˜ä¸ºå›æ–‡ä¸²ï¼Œs[1:2] å¯ä»¥é‡æ–°æ’åˆ—å¾—åˆ° => abccab ã€‚
ç„¶å s[4:5] é‡æ–°æ’åˆ—å¾—åˆ° abccba ã€‚
ç°åœ¨ s æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ï¼Œæ‰€ä»¥ answer[0] = true ã€‚
```

---

**æç¤ºï¼š**

- `2 <= n == s.length <= 10^5`
- `1 <= queries.length <= 10^5`
- `queries[i].length == 4`
- `ai == queries[i][0], bi == queries[i][1]`
- `ci == queries[i][2], di == queries[i][3]`
- `0 <= ai <= bi < n / 2`
- `n / 2 <= ci <= di < n`
- `n` æ˜¯ä¸€ä¸ªå¶æ•°ã€‚
- `s` åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
