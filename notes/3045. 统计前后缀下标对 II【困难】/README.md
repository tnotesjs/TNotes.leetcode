# [3045. ç»Ÿè®¡å‰åç¼€ä¸‹æ ‡å¯¹ IIã€å›°éš¾ã€‘](https://github.com/tnotesjs/TNotes.leetcode/tree/main/notes/3045.%20%E7%BB%9F%E8%AE%A1%E5%89%8D%E5%90%8E%E7%BC%80%E4%B8%8B%E6%A0%87%E5%AF%B9%20II%E3%80%90%E5%9B%B0%E9%9A%BE%E3%80%91)

<!-- region:toc -->

- [1. ğŸ“ é¢˜ç›®æè¿°](#1--é¢˜ç›®æè¿°)
- [2. ğŸ¯ s.1 - è§£æ³• 1](#2--s1---è§£æ³•-1)
- [3. ğŸ¯ s.2 - è§£æ³• 2](#3--s2---è§£æ³•-2)
- [4. ğŸ¯ s.3 - è§£æ³• 3](#4--s3---è§£æ³•-3)

<!-- endregion:toc -->

## 1. ğŸ“ é¢˜ç›®æè¿°

- [leetcode](https://leetcode.cn/problems/count-prefix-and-suffix-pairs-ii/)

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„å­—ç¬¦ä¸²æ•°ç»„ `words` ã€‚

å®šä¹‰ä¸€ä¸ª å¸ƒå°” å‡½æ•° `isPrefixAndSuffix` ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•° `str1` å’Œ `str2` ï¼š

- å½“ `str1` åŒæ—¶æ˜¯ `str2` çš„å‰ç¼€ï¼ˆprefixï¼‰å’Œåç¼€ï¼ˆsuffixï¼‰æ—¶ï¼Œ`isPrefixAndSuffix(str1, str2)` è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚

> - å­—ç¬¦ä¸²çš„å‰ç¼€æ˜¯ä»å­—ç¬¦ä¸²çš„å¼€å¤´å¼€å§‹å¹¶å»¶ä¼¸åˆ°å…¶ä¸­ä»»æ„ç‚¹çš„å­ä¸²ã€‚
> - å­—ç¬¦ä¸²çš„åç¼€æ˜¯ä»å­—ç¬¦ä¸²çš„ä»»æ„ç‚¹å¼€å§‹å¹¶å»¶ä¼¸åˆ°å…¶æœ«å°¾çš„å­ä¸²

ä¾‹å¦‚ï¼Œ`isPrefixAndSuffix("aba", "ababa")` è¿”å› `true`ï¼Œå› ä¸º `"aba"` æ—¢æ˜¯ `"ababa"` çš„å‰ç¼€ï¼Œä¹Ÿæ˜¯ `"ababa"` çš„åç¼€ï¼Œä½†æ˜¯ `isPrefixAndSuffix("abc", "abcd")` è¿”å› `false`ã€‚

ä»¥æ•´æ•°å½¢å¼ï¼Œè¿”å›æ»¡è¶³ `i < j` ä¸” `isPrefixAndSuffix(words[i], words[j])` ä¸º `true` çš„ä¸‹æ ‡å¯¹ `(i, j)` çš„ æ•°é‡ ã€‚

---

- ç¤ºä¾‹ 1ï¼š

```txt
è¾“å…¥ï¼šwords = ["a","aba","ababa","aa"]
è¾“å‡ºï¼š4
è§£é‡Šï¼šåœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œè®¡æ•°çš„ä¸‹æ ‡å¯¹åŒ…æ‹¬ï¼š
i = 0 ä¸” j = 1 ï¼Œå› ä¸º isPrefixAndSuffix("a", "aba") ä¸º true ã€‚
i = 0 ä¸” j = 2 ï¼Œå› ä¸º isPrefixAndSuffix("a", "ababa") ä¸º true ã€‚
i = 0 ä¸” j = 3 ï¼Œå› ä¸º isPrefixAndSuffix("a", "aa") ä¸º true ã€‚
i = 1 ä¸” j = 2 ï¼Œå› ä¸º isPrefixAndSuffix("aba", "ababa") ä¸º true ã€‚
å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 4 ã€‚
```

- ç¤ºä¾‹ 2ï¼š

```txt
è¾“å…¥ï¼šwords = ["pa","papa","ma","mama"]
è¾“å‡ºï¼š2
è§£é‡Šï¼šåœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œè®¡æ•°çš„ä¸‹æ ‡å¯¹åŒ…æ‹¬ï¼š
i = 0 ä¸” j = 1 ï¼Œå› ä¸º isPrefixAndSuffix("pa", "papa") ä¸º true ã€‚
i = 2 ä¸” j = 3 ï¼Œå› ä¸º isPrefixAndSuffix("ma", "mama") ä¸º true ã€‚
å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 2 ã€‚
```

- ç¤ºä¾‹ 3ï¼š

```txt
è¾“å…¥ï¼šwords = ["abab","ab"]
è¾“å‡ºï¼š0
è§£é‡Šï¼šåœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œå”¯ä¸€æœ‰æ•ˆçš„ä¸‹æ ‡å¯¹æ˜¯ i = 0 ä¸” j = 1 ï¼Œä½†æ˜¯ isPrefixAndSuffix("abab", "ab") ä¸º false ã€‚
å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ 0 ã€‚
```

---

æç¤ºï¼š

- `1 <= words.length <= 10^5`
- `1 <= words[i].length <= 10^5`
- `words[i]` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚
- æ‰€æœ‰ `words[i]` çš„é•¿åº¦ä¹‹å’Œä¸è¶…è¿‡ `5 * 10^5` ã€‚

## 2. ğŸ¯ s.1 - è§£æ³• 1

::: code-group

<<< ./solutions/1/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 3. ğŸ¯ s.2 - è§£æ³• 2

::: code-group

<<< ./solutions/2/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

## 4. ğŸ¯ s.3 - è§£æ³• 3

::: code-group

<<< ./solutions/3/1.js [js]

:::

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$
